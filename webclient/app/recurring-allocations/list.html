
<div class="row">
    <div class="col-xs-12">
        <h2>Recurring Allocations</h2>
    </div>
</div>
<div class="row">
    <div class="col-xs-12">
        <table class="table table-bordered clear-background rounded">
        <thead>
            <tr class="heading">
                <th>Name</th>
                <th>Amount</th>
                <th>Type</th>
                <th>Category</th>
                <th>Frequency</th>
                <th>Standing Order?</th>
                <th>Bank Account</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="recurringAllocation in vm.recurringAllocations">
                <td> {{ recurringAllocation.name }} </td>
                <td> {{ recurringAllocation.amount }} </td>
                <td> {{ recurringAllocation.allocation_type }} </td>
                <td> {{ recurringAllocation.allocation_category.name }} </td>
                <td> {{ recurringAllocation.frequency }} </td>
                <td> {{ recurringAllocation.is_standing_order ? 'Yes': 'No' }} </td>
                <td> {{ recurringAllocation.bank_account.name }} </td>
                <td>
                    <span ng-click="vm.deleteRecurringAllocation(recurringAllocation)"
                          class="text-danger pull-right pointer">
                        <ec-icon type="trash"></ec-icon>
                    </span>

                    <span ng-click="vm.selectRecurringAllocationForUpdate(recurringAllocation)"
                          class="text-warning pull-right pointer">
                        <ec-icon type="edit"></ec-icon>
                        &nbsp;
                        Edit
                        &nbsp; &nbsp; &nbsp;
                    </span>
                </td>

            </tr>
        </tbody>
        </table>
    </div>
</div>

<div class="row">
    <div class="col-xs-1" ng-show="vm.state.is('recurring-allocations')">
        <button class="btn btn-primary"
                ng-click="vm.state.goToState('recurring-allocations.new')">
            Add New Recurring Allocation
        </button>
    </div>
    <div class="col-xs-1" ng-show="vm.state.is('recurring-allocations.new')">
        <button class="btn btn-default"
                ng-click="vm.state.goToState('recurring-allocations')">
            Cancel
        </button>
    </div>
</div>

<br/>

<ui-view></ui-view>
