"use strict";(self.webpackChunkeverycent=self.webpackChunkeverycent||[]).push([[146],{146:(at,y,c)=>{c.r(y),c.d(y,{SetupModule:()=>it});var Z=c(6712),T=c(6630),A=c(7545),t=c(4650),r=c(4006),l=c(5412),m=c(6895),g=c(4859),_=c(6326),h=c(8759);function k(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.cancelChanges())}),t._uU(1,"Close"),t.qZA()}}let F=(()=>{class o{constructor(e,n){this.fb=e,this.dialogRef=n,this.allocationCategory={},this.save=new t.vpe,this.cancel=new t.vpe,this.editMode=!0}ngOnInit(){this.form=this.fb.group({id:this.allocationCategory.id,name:this.allocationCategory.name})}saveChanges(){this.save.emit(this.form.value),this.save.complete()}cancelChanges(){this.cancel.emit(),this.cancel.complete(),this.dialogRef.close()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(r.QS),t.Y36(l.so))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ec-account-category-edit-form"]],inputs:{allocationCategory:"allocationCategory"},outputs:{save:"save",cancel:"cancel"},decls:8,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],["formControlName","name","placeholder","Name",3,"editMode","editModeChange"],["mat-dialog-actions",""],[3,"editMode","editModeChange","save","cancel"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"h1",0),t._uU(1,"Allocation Category Details"),t.qZA(),t.TgZ(2,"div",1)(3,"div",2)(4,"ec-text-field",3),t.NdJ("editModeChange",function(i){return n.editMode=i}),t.qZA()()(),t.TgZ(5,"div",4)(6,"ec-edit-actions",5),t.NdJ("editModeChange",function(i){return n.editMode=i})("save",function(){return n.saveChanges()})("cancel",function(){return n.cancelChanges()}),t.YNc(7,k,2,0,"button",6),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("formGroup",n.form),t.xp6(1),t.Q6J("editMode",n.editMode),t.xp6(2),t.Q6J("editMode",n.editMode),t.xp6(1),t.Q6J("ngIf",!n.editMode))},dependencies:[m.O5,r.JJ,r.JL,r.sg,r.u,g.lW,l.uh,l.xY,l.H8,_.Y,h.a],encapsulation:2}),o})();var J=c(7369);let f=(()=>{class o{constructor(e){this.apiGateway=e}getInstitutions(){return this.apiGateway.get("/institutions")}addInstitution(e){return this.apiGateway.post("/institutions",e)}saveInstitution(e){return this.apiGateway.put(`/institutions/${e.id}`,e)}createOrUpdateInstitution(e){return 0===e.id?this.addInstitution(e):this.saveInstitution(e)}getAllBankAccounts(){return this.apiGateway.get("/bank_accounts",{include_closed:!0})}addBankAccount(e){return this.apiGateway.post("/bank_accounts",e)}saveBankAccount(e){return this.apiGateway.put(`/bank_accounts/${e.id}`,e)}createOrUpdateBankAccount(e){return 0===e.id?this.addBankAccount(e):this.saveBankAccount(e)}getAllocationCategories(){return this.apiGateway.get("/allocation_categories")}addAllocationCategory(e){return this.apiGateway.post("/allocation_categories",e)}saveAllocationCategory(e){return this.apiGateway.put(`/allocation_categories/${e.id}`,e)}createOrUpdateAllocationCategory(e){return 0===e.id?this.addAllocationCategory(e):this.saveAllocationCategory(e)}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(J.i))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac}),o})();var C=c(9675),M=c(8731),d=c(3546),p=c(6338),v=c(8729);function S(o,s){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-list-item")(2,"div",4)(3,"span"),t._uU(4),t.qZA(),t.TgZ(5,"button",2),t.NdJ("click",function(){const i=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.viewDetails(i))}),t._uU(6,"Edit"),t.qZA()()(),t._UZ(7,"mat-divider"),t.BQk()}if(2&o){const e=s.$implicit;t.xp6(4),t.hij(" ",e.name," ")}}let N=(()=>{class o{constructor(e,n,a,i){this.setupService=e,this.dialog=n,this.toolbar=a,this.messageService=i,this.allocationCategories=[]}ngOnInit(){this.refresh()}refresh(){this.setupService.getAllocationCategories().subscribe(e=>this.allocationCategories=e)}viewDetails(e){let n=this.dialog.open(F,{});const a=n.componentInstance;a.allocationCategory=e,a.save.pipe((0,A.w)(i=>this.setupService.createOrUpdateAllocationCategory(i))).subscribe(()=>{this.messageService.setMessage("Allocation Category saved."),this.refresh(),n.close()},i=>{this.messageService.setErrorMessage("Allocation Category not saved."),this.refresh()})}addAllocationCategory(){this.viewDetails({id:0,name:""})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f),t.Y36(l.uw),t.Y36(C.S),t.Y36(M.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ec-account-categories"]],decls:12,vars:1,consts:[[1,"main"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",3,"click"],[1,"list-item-with-action-buttons"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card")(2,"mat-card-title"),t._uU(3,"Allocation Categories"),t.qZA(),t.TgZ(4,"mat-card-content")(5,"mat-list"),t.YNc(6,S,8,1,"ng-container",1),t.qZA()(),t.TgZ(7,"mat-card-actions")(8,"button",2),t.NdJ("click",function(){return n.addAllocationCategory()}),t._uU(9,"Add Allocation Category"),t.qZA(),t.TgZ(10,"button",3),t.NdJ("click",function(){return n.refresh()}),t._uU(11,"Refresh"),t.qZA()()()()),2&e&&(t.xp6(6),t.Q6J("ngForOf",n.allocationCategories))},dependencies:[m.sg,g.lW,d.a8,d.dn,d.n5,d.hq,p.i$,p.Tg,v.d],encapsulation:2}),o})();var b=c(6786),x=c(1769);function B(o,s){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"h3"),t._uU(2,"Credit Card Related"),t.qZA(),t.TgZ(3,"ec-text-field",17),t.NdJ("editModeChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.editMode=a)}),t.qZA(),t.TgZ(4,"ec-text-field",18),t.NdJ("editModeChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.editMode=a)}),t.qZA(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(3),t.Q6J("editMode",e.editMode),t.xp6(1),t.Q6J("editMode",e.editMode)}}function I(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.cancelChanges())}),t._uU(1," Close "),t.qZA()}}let E=(()=>{class o{constructor(e,n){this.fb=e,this.dialogRef=n,this.bankAccount={},this.save=new t.vpe,this.cancel=new t.vpe,this.editMode=!1,this.accountFeatureTypes=[{id:"normal",name:"Normal Features"},{id:"sink_fund",name:"Sink Fund Features"},{id:"credit_card",name:"Credit Card Features"}],this.accountCategories=[{id:"asset",name:"Asset"},{id:"liability",name:"Liability"},{id:"current",name:"Current"}],this.importFormats=[{name:"ABN Amro Bank Account",id:"abn-amro-bank"},{name:"ABN Amro Bank Account (old format)",id:"abn-amro-bank-old"},{name:"ABN Amro Credit Card",id:"abn-amro-creditcard"},{name:"Scotia Bank Account",id:"new-bank-account"},{name:"FCB Bank Account",id:"fc-bank"},{name:"FCB Credit Card (not implemented)",id:"fc-creditcard"},{text:"Republic Bank Account",value:"republic-bank"},{text:"Republic Credit Card (not implemented)",value:"republic-creditcard"}],this.institutions=[],this.yesNoList=[{id:!0,name:"Yes"},{id:!1,name:"No"}],this.statuses=[{id:"open",name:"Open"},{id:"closed",name:"Closed"}]}ngOnInit(){this.form=this.fb.group({id:this.bankAccount.id,name:this.bankAccount.name,account_type:this.bankAccount.account_type,account_type_description:this.bankAccount.account_type_description,account_category:this.bankAccount.account_category,is_cash:this.bankAccount.is_cash,institution_id:this.bankAccount.institution_id,account_no:this.bankAccount.account_no,opening_balance:this.bankAccount.opening_balance,import_format:this.bankAccount.import_format,status:this.bankAccount.status,statement_day:this.bankAccount.statement_day,payment_due_day:this.bankAccount.payment_due_day})}saveChanges(){this.save.emit(this.form.value),this.save.complete()}cancelChanges(){this.cancel.emit(),this.cancel.complete(),this.dialogRef.close()}isCreditCard(){return this.form.value&&"credit_card"===this.form.value.account_type}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(r.QS),t.Y36(l.so))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ec-bank-account-edit-form"]],inputs:{bankAccount:"bankAccount",institutions:"institutions"},outputs:{save:"save",cancel:"cancel"},decls:18,vars:25,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],["formControlName","name","placeholder","Name",1,"form",3,"editMode","editModeChange"],["formControlName","account_type","placeholder","Account Features",1,"form",3,"editMode","items","isNumeric","editModeChange"],["formControlName","account_type_description","placeholder","Account Type Description",1,"form",3,"editMode","editModeChange"],["formControlName","account_category","placeholder","Account Category",1,"form",3,"editMode","items","isNumeric","editModeChange"],["formControlName","is_cash","placeholder","Is Cash Account?",1,"form",3,"editMode","items","isNumeric","editModeChange"],["formControlName","institution_id","placeholder","Financial Institution",1,"form",3,"editMode","items","editModeChange"],["formControlName","account_no","placeholder","Official Account #",1,"form",3,"editMode","editModeChange"],["formControlName","opening_balance","placeholder","Opening Balance",1,"form",3,"editMode","editModeChange"],["formControlName","import_format","placeholder","Bank Account Import Format",1,"form",3,"editMode","items","isNumeric","editModeChange"],["formControlName","status","placeholder","Status",1,"form",3,"editMode","items","isNumeric","editModeChange"],[4,"ngIf"],["mat-dialog-actions",""],[3,"editMode","editModeChange","save"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["formControlName","statement_day","placeholder","Statement Day","type","number",1,"form",3,"editMode","editModeChange"],["formControlName","payment_due_day","placeholder","Payment Due Day","type","number",1,"form",3,"editMode","editModeChange"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"h1",0),t._uU(1,"Bank Account Details"),t.qZA(),t.TgZ(2,"div",1)(3,"div",2)(4,"ec-text-field",3),t.NdJ("editModeChange",function(i){return n.editMode=i}),t.qZA(),t.TgZ(5,"ec-list-field",4),t.NdJ("editModeChange",function(i){return n.editMode=i}),t.qZA(),t.TgZ(6,"ec-text-field",5),t.NdJ("editModeChange",function(i){return n.editMode=i}),t.qZA(),t.TgZ(7,"ec-list-field",6),t.NdJ("editModeChange",function(i){return n.editMode=i}),t.qZA(),t.TgZ(8,"ec-list-field",7),t.NdJ("editModeChange",function(i){return n.editMode=i}),t.qZA(),t.TgZ(9,"ec-list-field",8),t.NdJ("editModeChange",function(i){return n.editMode=i}),t.qZA(),t.TgZ(10,"ec-text-field",9),t.NdJ("editModeChange",function(i){return n.editMode=i}),t.qZA(),t.TgZ(11,"ec-money-field",10),t.NdJ("editModeChange",function(i){return n.editMode=i}),t.qZA(),t.TgZ(12,"ec-list-field",11),t.NdJ("editModeChange",function(i){return n.editMode=i}),t.qZA(),t.TgZ(13,"ec-list-field",12),t.NdJ("editModeChange",function(i){return n.editMode=i}),t.qZA(),t.YNc(14,B,5,2,"ng-container",13),t.qZA()(),t.TgZ(15,"div",14)(16,"ec-edit-actions",15),t.NdJ("editModeChange",function(i){return n.editMode=i})("save",function(){return n.saveChanges()}),t.YNc(17,I,2,0,"button",16),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("formGroup",n.form),t.xp6(1),t.Q6J("editMode",n.editMode),t.xp6(1),t.Q6J("editMode",n.editMode)("items",n.accountFeatureTypes)("isNumeric",!1),t.xp6(1),t.Q6J("editMode",n.editMode),t.xp6(1),t.Q6J("editMode",n.editMode)("items",n.accountCategories)("isNumeric",!1),t.xp6(1),t.Q6J("editMode",n.editMode)("items",n.yesNoList)("isNumeric",!1),t.xp6(1),t.Q6J("editMode",n.editMode)("items",n.institutions),t.xp6(1),t.Q6J("editMode",n.editMode),t.xp6(1),t.Q6J("editMode",n.editMode),t.xp6(1),t.Q6J("editMode",n.editMode)("items",n.importFormats)("isNumeric",!1),t.xp6(1),t.Q6J("editMode",n.editMode)("items",n.statuses)("isNumeric",!1),t.xp6(1),t.Q6J("ngIf",n.isCreditCard()),t.xp6(2),t.Q6J("editMode",n.editMode),t.xp6(1),t.Q6J("ngIf",!n.editMode))},dependencies:[m.O5,r.JJ,r.JL,r.sg,r.u,g.lW,l.uh,l.xY,l.H8,_.Y,b.d,x.x,h.a],encapsulation:2}),o})();var w=c(2874),Q=c(455),Y=c(5552);function O(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"mat-list-item",6)(1,"div",7)(2,"span"),t._uU(3),t.qZA(),t.TgZ(4,"button",3),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,i=t.oxw();return t.KtG(i.viewDetails(a))}),t._uU(5," View "),t.qZA()()()}if(2&o){const e=t.oxw().$implicit;t.Q6J("ecHighlightDeletedFor",e),t.xp6(3),t.hij(" ",e.name," ")}}function U(o,s){if(1&o&&(t.ynx(0),t.YNc(1,O,6,2,"mat-list-item",5),t._UZ(2,"mat-divider"),t.BQk()),2&o){const e=s.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.deactivateService.isItemVisible(e,n.showClosed))}}let q=(()=>{class o{constructor(e,n,a,i,u){this.setupService=e,this.dialog=n,this.toolbar=a,this.messageService=i,this.deactivateService=u,this.bankAccounts=[],this.institutions=[],this.showClosed=!1}ngOnInit(){this.toolbar.setHeading("Setup Bank Accounts"),this.refresh()}refresh(){this.setupService.getAllBankAccounts().subscribe(e=>this.bankAccounts=e),this.setupService.getInstitutions().subscribe(e=>this.institutions=e)}viewDetails(e,n=!1){let a=this.dialog.open(E,{});const i=a.componentInstance;i.bankAccount=e,i.institutions=this.institutions,i.editMode=n,i.save.pipe((0,A.w)(u=>this.setupService.createOrUpdateBankAccount(u))).subscribe(()=>{this.messageService.setMessage("Bank Account saved."),this.refresh(),a.close()},u=>{this.messageService.setErrorMessage("Bank Account not saved."),this.refresh()})}addBankAccount(){this.viewDetails({id:0,name:""},!0)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f),t.Y36(l.uw),t.Y36(C.S),t.Y36(M.e),t.Y36(w.u))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ec-bank-accounts"]],decls:14,vars:2,consts:[[1,"main"],["color","primary",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",3,"click"],[3,"ecHighlightDeletedFor",4,"ngIf"],[3,"ecHighlightDeletedFor"],[1,"list-item-with-action-buttons"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card")(2,"mat-card-title"),t._uU(3,"Bank Accounts"),t.qZA(),t.TgZ(4,"mat-card-content")(5,"mat-slide-toggle",1),t.NdJ("ngModelChange",function(i){return n.showClosed=i}),t._uU(6,"Show Closed Accounts?"),t.qZA(),t.TgZ(7,"mat-list"),t.YNc(8,U,3,1,"ng-container",2),t.qZA()(),t.TgZ(9,"mat-card-actions")(10,"button",3),t.NdJ("click",function(){return n.addBankAccount()}),t._uU(11," Add Bank Account "),t.qZA(),t.TgZ(12,"button",4),t.NdJ("click",function(){return n.refresh()}),t._uU(13,"Refresh"),t.qZA()()()()),2&e&&(t.xp6(5),t.Q6J("ngModel",n.showClosed),t.xp6(3),t.Q6J("ngForOf",n.bankAccounts))},dependencies:[m.sg,m.O5,r.JJ,r.On,g.lW,d.a8,d.dn,d.n5,d.hq,p.i$,p.Tg,v.d,Q.Rr,Y.O],encapsulation:2}),o})();function G(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.cancelChanges())}),t._uU(1,"Close"),t.qZA()}}let H=(()=>{class o{constructor(e,n){this.fb=e,this.dialogRef=n,this.institution={},this.save=new t.vpe,this.cancel=new t.vpe,this.editMode=!0}ngOnInit(){this.form=this.fb.group({id:this.institution.id,name:this.institution.name})}saveChanges(){this.save.emit(this.form.value),this.save.complete()}cancelChanges(){this.cancel.emit(),this.cancel.complete(),this.dialogRef.close()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(r.QS),t.Y36(l.so))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ec-institution-edit-form"]],inputs:{institution:"institution"},outputs:{save:"save",cancel:"cancel"},decls:8,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],["formControlName","name","placeholder","Name",3,"editMode","editModeChange"],["mat-dialog-actions",""],[3,"editMode","editModeChange","save","cancel"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"h1",0),t._uU(1,"Institution Details"),t.qZA(),t.TgZ(2,"div",1)(3,"div",2)(4,"ec-text-field",3),t.NdJ("editModeChange",function(i){return n.editMode=i}),t.qZA()()(),t.TgZ(5,"div",4)(6,"ec-edit-actions",5),t.NdJ("editModeChange",function(i){return n.editMode=i})("save",function(){return n.saveChanges()})("cancel",function(){return n.cancelChanges()}),t.YNc(7,G,2,0,"button",6),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("formGroup",n.form),t.xp6(1),t.Q6J("editMode",n.editMode),t.xp6(2),t.Q6J("editMode",n.editMode),t.xp6(1),t.Q6J("ngIf",!n.editMode))},dependencies:[m.O5,r.JJ,r.JL,r.sg,r.u,g.lW,l.uh,l.xY,l.H8,_.Y,h.a],encapsulation:2}),o})();function D(o,s){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-list-item")(2,"div",4)(3,"span"),t._uU(4),t.qZA(),t.TgZ(5,"button",2),t.NdJ("click",function(){const i=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.viewDetails(i))}),t._uU(6,"Edit"),t.qZA()()(),t._UZ(7,"mat-divider"),t.BQk()}if(2&o){const e=s.$implicit;t.xp6(4),t.hij(" ",e.name," ")}}let R=(()=>{class o{constructor(e,n,a,i){this.setupService=e,this.dialog=n,this.toolbar=a,this.messageService=i,this.institutions=[]}ngOnInit(){this.refresh()}refresh(){this.setupService.getInstitutions().subscribe(e=>this.institutions=e)}viewDetails(e){let n=this.dialog.open(H,{});const a=n.componentInstance;a.institution=e,a.save.pipe((0,A.w)(i=>this.setupService.createOrUpdateInstitution(i))).subscribe(()=>{this.messageService.setMessage("Institution saved."),this.refresh(),n.close()},i=>{this.messageService.setErrorMessage("Institution not saved."),this.refresh()})}addInstitution(){this.viewDetails({id:0,name:""})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(f),t.Y36(l.uw),t.Y36(C.S),t.Y36(M.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ec-institutions"]],decls:12,vars:1,consts:[[1,"main"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",3,"click"],[1,"list-item-with-action-buttons"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card")(2,"mat-card-title"),t._uU(3,"Financial Institutions"),t.qZA(),t.TgZ(4,"mat-card-content")(5,"mat-list"),t.YNc(6,D,8,1,"ng-container",1),t.qZA()(),t.TgZ(7,"mat-card-actions")(8,"button",2),t.NdJ("click",function(){return n.addInstitution()}),t._uU(9,"Add Institution"),t.qZA(),t.TgZ(10,"button",3),t.NdJ("click",function(){return n.refresh()}),t._uU(11,"Refresh"),t.qZA()()()()),2&e&&(t.xp6(6),t.Q6J("ngForOf",n.institutions))},dependencies:[m.sg,g.lW,d.a8,d.dn,d.n5,d.hq,p.i$,p.Tg,v.d]}),o})();var $=c(194),K=c(6497),P=c(2205),W=c(9549),z=c(4385),L=c(3238);function X(o,s){if(1&o&&(t.TgZ(0,"mat-option",9),t._uU(1),t.qZA()),2&o){const e=s.$implicit;t.Q6J("value",e.value),t.xp6(1),t.Oqu(e.text)}}function j(o,s){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-form-field")(2,"mat-select",7),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.settings.family_type=a)}),t.YNc(3,X,2,2,"mat-option",8),t.qZA()(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngModel",e.settings.family_type),t.xp6(1),t.Q6J("ngForOf",e.familyTypeOptions)}}function V(o,s){if(1&o&&(t.TgZ(0,"span",10)(1,"span",11),t._uU(2,"Type of Household"),t.qZA(),t.TgZ(3,"span",12),t._uU(4),t.qZA()()),2&o){const e=t.oxw();t.xp6(4),t.Oqu(e.settings.family_type)}}function tt(o,s){if(1&o){const e=t.EpF();t.ynx(0),t.TgZ(1,"ec-text-field",13),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.settings.single_person=a)}),t.qZA(),t.BQk()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("editMode",e.editMode)("ngModel",e.settings.single_person)}}function et(o,s){if(1&o){const e=t.EpF();t.TgZ(0,"ec-text-field",14),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.settings.husband=a)}),t.qZA(),t.TgZ(1,"ec-text-field",15),t.NdJ("ngModelChange",function(a){t.CHM(e);const i=t.oxw();return t.KtG(i.settings.wife=a)}),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("editMode",e.editMode)("ngModel",e.settings.husband),t.xp6(1),t.Q6J("editMode",e.editMode)("ngModel",e.settings.wife)}}const nt=[{path:"allocation-categories",component:N},{path:"institutions",component:R},{path:"bank-accounts",component:q},{path:"settings",component:(()=>{class o{constructor(e,n,a,i,u){this.toolbarService=e,this.messageService=n,this.settingsService=a,this.bankAccountService=i,this.allocationCategoryService=u,this.settings={family_type:"couple"},this.bankAccounts=[],this.allocationCategories=[],this.editMode=!1,this.familyTypeOptions=[{value:"single",text:"Single"},{value:"couple",text:"Couple"}]}ngOnInit(){this.toolbarService.setHeading("General Settings"),this.bankAccountService.getBankAccounts().subscribe(e=>this.bankAccounts=e),this.allocationCategoryService.getAllocationCategories().subscribe(e=>this.allocationCategories=e),this.refresh()}refresh(){this.settingsService.getSettings().subscribe(e=>{this.settings=e})}saveSettings(){this.settingsService.saveSettings(this.settings).subscribe(()=>{this.messageService.setMessage("Settings saved."),this.editMode=!1},e=>{this.messageService.setErrorMessage("Settings not saved.")})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(C.S),t.Y36(M.e),t.Y36($.g),t.Y36(K.A),t.Y36(P.z))},o.\u0275cmp=t.Xpm({type:o,selectors:[["ec-settings"]],decls:15,vars:11,consts:[[1,"main"],["placeholder","Primary Budget Account",3,"editMode","items","ngModel","ngModelChange"],["placeholder","Default Allocation Category for Special Events",3,"editMode","items","ngModel","ngModelChange"],[4,"ngIf","ngIfElse"],["displayFamilyType",""],["coupleFields",""],[3,"editMode","editModeChange","save","cancel"],["placeholder","Type of Household",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"text-display"],[1,"label"],[1,"value"],["placeholder","Person's Name",3,"editMode","ngModel","ngModelChange"],["placeholder","Husband's Name",3,"editMode","ngModel","ngModelChange"],["placeholder","Wife's Name",3,"editMode","ngModel","ngModelChange"]],template:function(e,n){if(1&e&&(t.TgZ(0,"mat-card",0)(1,"mat-card")(2,"mat-card-title"),t._uU(3,"Settings"),t.qZA(),t.TgZ(4,"mat-card-content")(5,"ec-list-field",1),t.NdJ("ngModelChange",function(i){return n.settings.primary_budget_account_id=i}),t.qZA(),t.TgZ(6,"ec-list-field",2),t.NdJ("ngModelChange",function(i){return n.settings.default_allocation_category_id_for_special_events=i}),t.qZA(),t.YNc(7,j,4,2,"ng-container",3),t.YNc(8,V,5,1,"ng-template",null,4,t.W1O),t.YNc(10,tt,2,2,"ng-container",3),t.YNc(11,et,2,4,"ng-template",null,5,t.W1O),t.qZA(),t.TgZ(13,"mat-card-actions")(14,"ec-edit-actions",6),t.NdJ("editModeChange",function(i){return n.editMode=i})("save",function(){return n.saveSettings()})("cancel",function(){return n.refresh()}),t.qZA()()()()),2&e){const a=t.MAs(9),i=t.MAs(12);t.xp6(5),t.Q6J("editMode",n.editMode)("items",n.bankAccounts)("ngModel",n.settings.primary_budget_account_id),t.xp6(1),t.Q6J("editMode",n.editMode)("items",n.allocationCategories)("ngModel",n.settings.default_allocation_category_id_for_special_events),t.xp6(1),t.Q6J("ngIf",n.editMode)("ngIfElse",a),t.xp6(3),t.Q6J("ngIf","single"===n.settings.family_type)("ngIfElse",i),t.xp6(4),t.Q6J("editMode",n.editMode)}},dependencies:[m.sg,m.O5,r.JJ,r.On,d.a8,d.dn,d.n5,d.hq,W.KE,z.gD,L.ey,_.Y,b.d,h.a],styles:[".text-display{margin-bottom:20px}.value[_ngcontent-%COMP%]{width:100%;font-size:12px;font-family:Roboto,Helvetica Neue,sans-serif}.form[_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%], .form[_nghost-%COMP%]   .value[_ngcontent-%COMP%]{height:35px;margin-top:10px;margin-bottom:20px;font-size:16px}.text-display[_ngcontent-%COMP%]{display:flex;flex-direction:column}.label[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:1.125;color:#0000008a;font-family:Roboto,Helvetica Neue,sans-serif}"]}),o})()}];let ot=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[T.Bz.forChild(nt),T.Bz]}),o})(),it=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[f],imports:[Z.m,ot]}),o})()}}]);