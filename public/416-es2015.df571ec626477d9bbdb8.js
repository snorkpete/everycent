"use strict";(self.webpackChunkeverycent=self.webpackChunkeverycent||[]).push([[416],{58416:function(t,e,i){i.r(e),i.d(e,{SetupModule:function(){return j}});var n=i(32833),o=i(54655),a=i(43190),s=i(37716),c=i(3679),d=i(22238),r=i(78759),u=i(56326),l=i(38583),g=i(51095);function m(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"button",7),s.NdJ("click",function(){return s.CHM(t),s.oxw().cancelChanges()}),s._uU(1,"Close"),s.qZA()}}let h=(()=>{class t{constructor(t,e){this.fb=t,this.dialogRef=e,this.allocationCategory={},this.save=new s.vpe,this.cancel=new s.vpe,this.editMode=!0}ngOnInit(){this.form=this.fb.group({id:this.allocationCategory.id,name:this.allocationCategory.name})}saveChanges(){this.save.emit(this.form.value),this.save.complete()}cancelChanges(){this.cancel.emit(),this.cancel.complete(),this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(c.qu),s.Y36(d.so))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ec-account-category-edit-form"]],inputs:{allocationCategory:"allocationCategory"},outputs:{save:"save",cancel:"cancel"},decls:8,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],["formControlName","name","placeholder","Name",3,"editMode","editModeChange"],["mat-dialog-actions",""],[3,"editMode","editModeChange","save","cancel"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(s.TgZ(0,"h1",0),s._uU(1,"Allocation Category Details"),s.qZA(),s.TgZ(2,"div",1),s.TgZ(3,"div",2),s.TgZ(4,"ec-text-field",3),s.NdJ("editModeChange",function(t){return e.editMode=t}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(5,"div",4),s.TgZ(6,"ec-edit-actions",5),s.NdJ("editModeChange",function(t){return e.editMode=t})("save",function(){return e.saveChanges()})("cancel",function(){return e.cancelChanges()}),s.YNc(7,m,2,0,"button",6),s.qZA(),s.qZA()),2&t&&(s.xp6(3),s.Q6J("formGroup",e.form),s.xp6(1),s.Q6J("editMode",e.editMode),s.xp6(2),s.Q6J("editMode",e.editMode),s.xp6(1),s.Q6J("ngIf",!e.editMode))},directives:[d.uh,d.xY,c.JL,c.sg,r.a,c.JJ,c.u,d.H8,u.Y,l.O5,g.lW],encapsulation:2}),t})();var p=i(75572);let f=(()=>{class t{constructor(t){this.apiGateway=t}getInstitutions(){return this.apiGateway.get("/institutions")}addInstitution(t){return this.apiGateway.post("/institutions",t)}saveInstitution(t){return this.apiGateway.put(`/institutions/${t.id}`,t)}createOrUpdateInstitution(t){return 0===t.id?this.addInstitution(t):this.saveInstitution(t)}getAllBankAccounts(){return this.apiGateway.get("/bank_accounts",{include_closed:!0})}addBankAccount(t){return this.apiGateway.post("/bank_accounts",t)}saveBankAccount(t){return this.apiGateway.put(`/bank_accounts/${t.id}`,t)}createOrUpdateBankAccount(t){return 0===t.id?this.addBankAccount(t):this.saveBankAccount(t)}getAllocationCategories(){return this.apiGateway.get("/allocation_categories")}addAllocationCategory(t){return this.apiGateway.post("/allocation_categories",t)}saveAllocationCategory(t){return this.apiGateway.put(`/allocation_categories/${t.id}`,t)}createOrUpdateAllocationCategory(t){return 0===t.id?this.addAllocationCategory(t):this.saveAllocationCategory(t)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(p.i))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})();var M=i(29675),Z=i(28731),A=i(93738),v=i(77746),C=i(1769);function b(t,e){if(1&t){const t=s.EpF();s.ynx(0),s.TgZ(1,"mat-list-item"),s.TgZ(2,"div",4),s.TgZ(3,"span"),s._uU(4),s.qZA(),s.TgZ(5,"button",2),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw().viewDetails(e)}),s._uU(6,"Edit"),s.qZA(),s.qZA(),s.qZA(),s._UZ(7,"mat-divider"),s.BQk()}if(2&t){const t=e.$implicit;s.xp6(4),s.hij(" ",t.name," ")}}let y=(()=>{class t{constructor(t,e,i,n){this.setupService=t,this.dialog=e,this.toolbar=i,this.messageService=n,this.allocationCategories=[]}ngOnInit(){this.refresh()}refresh(){this.setupService.getAllocationCategories().subscribe(t=>this.allocationCategories=t)}viewDetails(t){let e=this.dialog.open(h,{});const i=e.componentInstance;i.allocationCategory=t,i.save.pipe((0,a.w)(t=>this.setupService.createOrUpdateAllocationCategory(t))).subscribe(()=>{this.messageService.setMessage("Allocation Category saved."),this.refresh(),e.close()},t=>{this.messageService.setErrorMessage("Allocation Category not saved."),this.refresh()})}addAllocationCategory(){this.viewDetails({id:0,name:""})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(f),s.Y36(d.uw),s.Y36(M.S),s.Y36(Z.e))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ec-account-categories"]],decls:12,vars:1,consts:[[1,"main"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",3,"click"],[1,"list-item-with-action-buttons"]],template:function(t,e){1&t&&(s.TgZ(0,"mat-card",0),s.TgZ(1,"mat-card"),s.TgZ(2,"mat-card-title"),s._uU(3,"Allocation Categories"),s.qZA(),s.TgZ(4,"mat-card-content"),s.TgZ(5,"mat-list"),s.YNc(6,b,8,1,"ng-container",1),s.qZA(),s.qZA(),s.TgZ(7,"mat-card-actions"),s.TgZ(8,"button",2),s.NdJ("click",function(){return e.addAllocationCategory()}),s._uU(9,"Add Allocation Category"),s.qZA(),s.TgZ(10,"button",3),s.NdJ("click",function(){return e.refresh()}),s._uU(11,"Refresh"),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(6),s.Q6J("ngForOf",e.allocationCategories))},directives:[A.a8,A.n5,A.dn,v.i$,l.sg,A.hq,g.lW,v.Tg,C.d],encapsulation:2}),t})();var x=i(76786),T=i(57576);function _(t,e){if(1&t){const t=s.EpF();s.ynx(0),s.TgZ(1,"h3"),s._uU(2,"Credit Card Related"),s.qZA(),s.TgZ(3,"ec-text-field",17),s.NdJ("editModeChange",function(e){return s.CHM(t),s.oxw().editMode=e}),s.qZA(),s.TgZ(4,"ec-text-field",18),s.NdJ("editModeChange",function(e){return s.CHM(t),s.oxw().editMode=e}),s.qZA(),s.BQk()}if(2&t){const t=s.oxw();s.xp6(3),s.Q6J("editMode",t.editMode),s.xp6(1),s.Q6J("editMode",t.editMode)}}function k(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"button",19),s.NdJ("click",function(){return s.CHM(t),s.oxw().cancelChanges()}),s._uU(1," Close "),s.qZA()}}let q=(()=>{class t{constructor(t,e){this.fb=t,this.dialogRef=e,this.bankAccount={},this.save=new s.vpe,this.cancel=new s.vpe,this.editMode=!1,this.accountFeatureTypes=[{id:"normal",name:"Normal Features"},{id:"sink_fund",name:"Sink Fund Features"},{id:"credit_card",name:"Credit Card Features"}],this.accountCategories=[{id:"asset",name:"Asset"},{id:"liability",name:"Liability"},{id:"current",name:"Current"}],this.importFormats=[{name:"ABN Amro Bank Account",id:"abn-amro-bank"},{name:"ABN Amro Bank Account (old format)",id:"abn-amro-bank-old"},{name:"ABN Amro Credit Card",id:"abn-amro-creditcard"},{name:"Scotia Bank Account",id:"new-bank-account"},{name:"FCB Bank Account",id:"fc-bank"},{name:"FCB Credit Card (not implemented)",id:"fc-creditcard"},{text:"Republic Bank Account",value:"republic-bank"},{text:"Republic Credit Card (not implemented)",value:"republic-creditcard"}],this.institutions=[],this.yesNoList=[{id:!0,name:"Yes"},{id:!1,name:"No"}],this.statuses=[{id:"open",name:"Open"},{id:"closed",name:"Closed"}]}ngOnInit(){this.form=this.fb.group({id:this.bankAccount.id,name:this.bankAccount.name,account_type:this.bankAccount.account_type,account_type_description:this.bankAccount.account_type_description,account_category:this.bankAccount.account_category,is_cash:this.bankAccount.is_cash,institution_id:this.bankAccount.institution_id,account_no:this.bankAccount.account_no,opening_balance:this.bankAccount.opening_balance,import_format:this.bankAccount.import_format,status:this.bankAccount.status,statement_day:this.bankAccount.statement_day,payment_due_day:this.bankAccount.payment_due_day})}saveChanges(){this.save.emit(this.form.value),this.save.complete()}cancelChanges(){this.cancel.emit(),this.cancel.complete(),this.dialogRef.close()}isCreditCard(){return this.form.value&&"credit_card"===this.form.value.account_type}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(c.qu),s.Y36(d.so))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ec-bank-account-edit-form"]],inputs:{bankAccount:"bankAccount",institutions:"institutions"},outputs:{save:"save",cancel:"cancel"},decls:18,vars:20,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],["formControlName","name","placeholder","Name",1,"form",3,"editMode","editModeChange"],["formControlName","account_type","placeholder","Account Features",1,"form",3,"editMode","items","editModeChange"],["formControlName","account_type_description","placeholder","Account Type Description",1,"form",3,"editMode","editModeChange"],["formControlName","account_category","placeholder","Account Category",1,"form",3,"editMode","items","editModeChange"],["formControlName","is_cash","placeholder","Is Cash Account?",1,"form",3,"editMode","items","editModeChange"],["formControlName","institution_id","placeholder","Financial Institution",1,"form",3,"editMode","items","editModeChange"],["formControlName","account_no","placeholder","Official Account #",1,"form",3,"editMode","editModeChange"],["formControlName","opening_balance","placeholder","Opening Balance",1,"form",3,"editMode","editModeChange"],["formControlName","import_format","placeholder","Bank Account Import Format",1,"form",3,"editMode","items","editModeChange"],["formControlName","status","placeholder","Status",1,"form",3,"editMode","items","editModeChange"],[4,"ngIf"],["mat-dialog-actions",""],[3,"editMode","editModeChange","save"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["formControlName","statement_day","placeholder","Statement Day","type","number",1,"form",3,"editMode","editModeChange"],["formControlName","payment_due_day","placeholder","Payment Due Day","type","number",1,"form",3,"editMode","editModeChange"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(s.TgZ(0,"h1",0),s._uU(1,"Bank Account Details"),s.qZA(),s.TgZ(2,"div",1),s.TgZ(3,"div",2),s.TgZ(4,"ec-text-field",3),s.NdJ("editModeChange",function(t){return e.editMode=t}),s.qZA(),s.TgZ(5,"ec-list-field",4),s.NdJ("editModeChange",function(t){return e.editMode=t}),s.qZA(),s.TgZ(6,"ec-text-field",5),s.NdJ("editModeChange",function(t){return e.editMode=t}),s.qZA(),s.TgZ(7,"ec-list-field",6),s.NdJ("editModeChange",function(t){return e.editMode=t}),s.qZA(),s.TgZ(8,"ec-list-field",7),s.NdJ("editModeChange",function(t){return e.editMode=t}),s.qZA(),s.TgZ(9,"ec-list-field",8),s.NdJ("editModeChange",function(t){return e.editMode=t}),s.qZA(),s.TgZ(10,"ec-text-field",9),s.NdJ("editModeChange",function(t){return e.editMode=t}),s.qZA(),s.TgZ(11,"ec-money-field",10),s.NdJ("editModeChange",function(t){return e.editMode=t}),s.qZA(),s.TgZ(12,"ec-list-field",11),s.NdJ("editModeChange",function(t){return e.editMode=t}),s.qZA(),s.TgZ(13,"ec-list-field",12),s.NdJ("editModeChange",function(t){return e.editMode=t}),s.qZA(),s.YNc(14,_,5,2,"ng-container",13),s.qZA(),s.qZA(),s.TgZ(15,"div",14),s.TgZ(16,"ec-edit-actions",15),s.NdJ("editModeChange",function(t){return e.editMode=t})("save",function(){return e.saveChanges()}),s.YNc(17,k,2,0,"button",16),s.qZA(),s.qZA()),2&t&&(s.xp6(3),s.Q6J("formGroup",e.form),s.xp6(1),s.Q6J("editMode",e.editMode),s.xp6(1),s.Q6J("editMode",e.editMode)("items",e.accountFeatureTypes),s.xp6(1),s.Q6J("editMode",e.editMode),s.xp6(1),s.Q6J("editMode",e.editMode)("items",e.accountCategories),s.xp6(1),s.Q6J("editMode",e.editMode)("items",e.yesNoList),s.xp6(1),s.Q6J("editMode",e.editMode)("items",e.institutions),s.xp6(1),s.Q6J("editMode",e.editMode),s.xp6(1),s.Q6J("editMode",e.editMode),s.xp6(1),s.Q6J("editMode",e.editMode)("items",e.importFormats),s.xp6(1),s.Q6J("editMode",e.editMode)("items",e.statuses),s.xp6(1),s.Q6J("ngIf",e.isCreditCard()),s.xp6(2),s.Q6J("editMode",e.editMode),s.xp6(1),s.Q6J("ngIf",!e.editMode))},directives:[d.uh,d.xY,c.JL,c.sg,r.a,c.JJ,c.u,x.d,T.x,l.O5,d.H8,u.Y,g.lW],encapsulation:2}),t})();var J=i(12874),w=i(45396),N=i(15552);function S(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"mat-list-item",6),s.TgZ(1,"div",7),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.TgZ(4,"button",3),s.NdJ("click",function(){s.CHM(t);const e=s.oxw().$implicit;return s.oxw().viewDetails(e)}),s._uU(5," View "),s.qZA(),s.qZA(),s.qZA()}if(2&t){const t=s.oxw().$implicit;s.Q6J("ecHighlightDeletedFor",t),s.xp6(3),s.hij(" ",t.name," ")}}function I(t,e){if(1&t&&(s.ynx(0),s.YNc(1,S,6,2,"mat-list-item",5),s._UZ(2,"mat-divider"),s.BQk()),2&t){const t=e.$implicit,i=s.oxw();s.xp6(1),s.Q6J("ngIf",i.deactivateService.isItemVisible(t,i.showClosed))}}let Q=(()=>{class t{constructor(t,e,i,n,o){this.setupService=t,this.dialog=e,this.toolbar=i,this.messageService=n,this.deactivateService=o,this.bankAccounts=[],this.institutions=[],this.showClosed=!1}ngOnInit(){this.toolbar.setHeading("Setup Bank Accounts"),this.refresh()}refresh(){this.setupService.getAllBankAccounts().subscribe(t=>this.bankAccounts=t),this.setupService.getInstitutions().subscribe(t=>this.institutions=t)}viewDetails(t,e=!1){let i=this.dialog.open(q,{});const n=i.componentInstance;n.bankAccount=t,n.institutions=this.institutions,n.editMode=e,n.save.pipe((0,a.w)(t=>this.setupService.createOrUpdateBankAccount(t))).subscribe(()=>{this.messageService.setMessage("Bank Account saved."),this.refresh(),i.close()},t=>{this.messageService.setErrorMessage("Bank Account not saved."),this.refresh()})}addBankAccount(){this.viewDetails({id:0,name:""},!0)}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(f),s.Y36(d.uw),s.Y36(M.S),s.Y36(Z.e),s.Y36(J.u))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ec-bank-accounts"]],decls:14,vars:2,consts:[[1,"main"],["color","primary",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",3,"click"],[3,"ecHighlightDeletedFor",4,"ngIf"],[3,"ecHighlightDeletedFor"],[1,"list-item-with-action-buttons"]],template:function(t,e){1&t&&(s.TgZ(0,"mat-card",0),s.TgZ(1,"mat-card"),s.TgZ(2,"mat-card-title"),s._uU(3,"Bank Accounts"),s.qZA(),s.TgZ(4,"mat-card-content"),s.TgZ(5,"mat-slide-toggle",1),s.NdJ("ngModelChange",function(t){return e.showClosed=t}),s._uU(6,"Show Closed Accounts?"),s.qZA(),s.TgZ(7,"mat-list"),s.YNc(8,I,3,1,"ng-container",2),s.qZA(),s.qZA(),s.TgZ(9,"mat-card-actions"),s.TgZ(10,"button",3),s.NdJ("click",function(){return e.addBankAccount()}),s._uU(11," Add Bank Account "),s.qZA(),s.TgZ(12,"button",4),s.NdJ("click",function(){return e.refresh()}),s._uU(13,"Refresh"),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(5),s.Q6J("ngModel",e.showClosed),s.xp6(3),s.Q6J("ngForOf",e.bankAccounts))},directives:[A.a8,A.n5,A.dn,w.Rr,c.JJ,c.On,v.i$,l.sg,A.hq,g.lW,l.O5,C.d,v.Tg,N.O],encapsulation:2}),t})();function O(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"button",7),s.NdJ("click",function(){return s.CHM(t),s.oxw().cancelChanges()}),s._uU(1,"Close"),s.qZA()}}let Y=(()=>{class t{constructor(t,e){this.fb=t,this.dialogRef=e,this.institution={},this.save=new s.vpe,this.cancel=new s.vpe,this.editMode=!0}ngOnInit(){this.form=this.fb.group({id:this.institution.id,name:this.institution.name})}saveChanges(){this.save.emit(this.form.value),this.save.complete()}cancelChanges(){this.cancel.emit(),this.cancel.complete(),this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(c.qu),s.Y36(d.so))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ec-institution-edit-form"]],inputs:{institution:"institution"},outputs:{save:"save",cancel:"cancel"},decls:8,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],["formControlName","name","placeholder","Name",3,"editMode","editModeChange"],["mat-dialog-actions",""],[3,"editMode","editModeChange","save","cancel"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(s.TgZ(0,"h1",0),s._uU(1,"Institution Details"),s.qZA(),s.TgZ(2,"div",1),s.TgZ(3,"div",2),s.TgZ(4,"ec-text-field",3),s.NdJ("editModeChange",function(t){return e.editMode=t}),s.qZA(),s.qZA(),s.qZA(),s.TgZ(5,"div",4),s.TgZ(6,"ec-edit-actions",5),s.NdJ("editModeChange",function(t){return e.editMode=t})("save",function(){return e.saveChanges()})("cancel",function(){return e.cancelChanges()}),s.YNc(7,O,2,0,"button",6),s.qZA(),s.qZA()),2&t&&(s.xp6(3),s.Q6J("formGroup",e.form),s.xp6(1),s.Q6J("editMode",e.editMode),s.xp6(2),s.Q6J("editMode",e.editMode),s.xp6(1),s.Q6J("ngIf",!e.editMode))},directives:[d.uh,d.xY,c.JL,c.sg,r.a,c.JJ,c.u,d.H8,u.Y,l.O5,g.lW],encapsulation:2}),t})();function F(t,e){if(1&t){const t=s.EpF();s.ynx(0),s.TgZ(1,"mat-list-item"),s.TgZ(2,"div",4),s.TgZ(3,"span"),s._uU(4),s.qZA(),s.TgZ(5,"button",2),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw().viewDetails(e)}),s._uU(6,"Edit"),s.qZA(),s.qZA(),s.qZA(),s._UZ(7,"mat-divider"),s.BQk()}if(2&t){const t=e.$implicit;s.xp6(4),s.hij(" ",t.name," ")}}let B=(()=>{class t{constructor(t,e,i,n){this.setupService=t,this.dialog=e,this.toolbar=i,this.messageService=n,this.institutions=[]}ngOnInit(){this.refresh()}refresh(){this.setupService.getInstitutions().subscribe(t=>this.institutions=t)}viewDetails(t){let e=this.dialog.open(Y,{});const i=e.componentInstance;i.institution=t,i.save.pipe((0,a.w)(t=>this.setupService.createOrUpdateInstitution(t))).subscribe(()=>{this.messageService.setMessage("Institution saved."),this.refresh(),e.close()},t=>{this.messageService.setErrorMessage("Institution not saved."),this.refresh()})}addInstitution(){this.viewDetails({id:0,name:""})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(f),s.Y36(d.uw),s.Y36(M.S),s.Y36(Z.e))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ec-institutions"]],decls:12,vars:1,consts:[[1,"main"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",3,"click"],[1,"list-item-with-action-buttons"]],template:function(t,e){1&t&&(s.TgZ(0,"mat-card",0),s.TgZ(1,"mat-card"),s.TgZ(2,"mat-card-title"),s._uU(3,"Financial Institutions"),s.qZA(),s.TgZ(4,"mat-card-content"),s.TgZ(5,"mat-list"),s.YNc(6,F,8,1,"ng-container",1),s.qZA(),s.qZA(),s.TgZ(7,"mat-card-actions"),s.TgZ(8,"button",2),s.NdJ("click",function(){return e.addInstitution()}),s._uU(9,"Add Institution"),s.qZA(),s.TgZ(10,"button",3),s.NdJ("click",function(){return e.refresh()}),s._uU(11,"Refresh"),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(6),s.Q6J("ngForOf",e.institutions))},directives:[A.a8,A.n5,A.dn,v.i$,l.sg,A.hq,g.lW,v.Tg,C.d],styles:[""]}),t})();var U=i(10194),H=i(6497),D=i(98295),E=i(67441),G=i(72458);function R(t,e){if(1&t&&(s.TgZ(0,"mat-option",8),s._uU(1),s.qZA()),2&t){const t=e.$implicit;s.Q6J("value",t.value),s.xp6(1),s.Oqu(t.text)}}function $(t,e){if(1&t){const t=s.EpF();s.ynx(0),s.TgZ(1,"mat-form-field"),s.TgZ(2,"mat-select",6),s.NdJ("ngModelChange",function(e){return s.CHM(t),s.oxw().settings.family_type=e}),s.YNc(3,R,2,2,"mat-option",7),s.qZA(),s.qZA(),s.BQk()}if(2&t){const t=s.oxw();s.xp6(2),s.Q6J("ngModel",t.settings.family_type),s.xp6(1),s.Q6J("ngForOf",t.familyTypeOptions)}}function P(t,e){if(1&t&&(s.TgZ(0,"span",9),s.TgZ(1,"span",10),s._uU(2,"Type of Household"),s.qZA(),s.TgZ(3,"span",11),s._uU(4),s.qZA(),s.qZA()),2&t){const t=s.oxw();s.xp6(4),s.Oqu(t.settings.family_type)}}function W(t,e){if(1&t){const t=s.EpF();s.ynx(0),s.TgZ(1,"ec-text-field",12),s.NdJ("ngModelChange",function(e){return s.CHM(t),s.oxw().settings.single_person=e}),s.qZA(),s.BQk()}if(2&t){const t=s.oxw();s.xp6(1),s.Q6J("editMode",t.editMode)("ngModel",t.settings.single_person)}}function L(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"ec-text-field",13),s.NdJ("ngModelChange",function(e){return s.CHM(t),s.oxw().settings.husband=e}),s.qZA(),s.TgZ(1,"ec-text-field",14),s.NdJ("ngModelChange",function(e){return s.CHM(t),s.oxw().settings.wife=e}),s.qZA()}if(2&t){const t=s.oxw();s.Q6J("editMode",t.editMode)("ngModel",t.settings.husband),s.xp6(1),s.Q6J("editMode",t.editMode)("ngModel",t.settings.wife)}}const X=[{path:"allocation-categories",component:y},{path:"institutions",component:B},{path:"bank-accounts",component:Q},{path:"settings",component:(()=>{class t{constructor(t,e,i,n){this.toolbarService=t,this.messageService=e,this.settingsService=i,this.bankAccountService=n,this.settings={family_type:"couple"},this.bankAccounts=[],this.editMode=!1,this.familyTypeOptions=[{value:"single",text:"Single"},{value:"couple",text:"Couple"}]}ngOnInit(){this.toolbarService.setHeading("General Settings"),this.bankAccountService.getBankAccounts().subscribe(t=>this.bankAccounts=t),this.refresh()}refresh(){this.settingsService.getSettings().subscribe(t=>{this.settings=t})}saveSettings(){this.settingsService.saveSettings(this.settings).subscribe(()=>{this.messageService.setMessage("Settings saved."),this.editMode=!1},t=>{this.messageService.setErrorMessage("Settings not saved.")})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(M.S),s.Y36(Z.e),s.Y36(U.g),s.Y36(H.A))},t.\u0275cmp=s.Xpm({type:t,selectors:[["ec-settings"]],decls:14,vars:8,consts:[[1,"main"],["placeholder","Primary Budget Account",3,"editMode","items","ngModel","ngModelChange"],[4,"ngIf","ngIfElse"],["displayFamilyType",""],["coupleFields",""],[3,"editMode","editModeChange","save","cancel"],["placeholder","Type of Household",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"text-display"],[1,"label"],[1,"value"],["placeholder","Person's Name",3,"editMode","ngModel","ngModelChange"],["placeholder","Husband's Name",3,"editMode","ngModel","ngModelChange"],["placeholder","Wife's Name",3,"editMode","ngModel","ngModelChange"]],template:function(t,e){if(1&t&&(s.TgZ(0,"mat-card",0),s.TgZ(1,"mat-card"),s.TgZ(2,"mat-card-title"),s._uU(3,"Settings"),s.qZA(),s.TgZ(4,"mat-card-content"),s.TgZ(5,"ec-list-field",1),s.NdJ("ngModelChange",function(t){return e.settings.primary_budget_account_id=t}),s.qZA(),s.YNc(6,$,4,2,"ng-container",2),s.YNc(7,P,5,1,"ng-template",null,3,s.W1O),s.YNc(9,W,2,2,"ng-container",2),s.YNc(10,L,2,4,"ng-template",null,4,s.W1O),s.qZA(),s.TgZ(12,"mat-card-actions"),s.TgZ(13,"ec-edit-actions",5),s.NdJ("editModeChange",function(t){return e.editMode=t})("save",function(){return e.saveSettings()})("cancel",function(){return e.refresh()}),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t){const t=s.MAs(8),i=s.MAs(11);s.xp6(5),s.Q6J("editMode",e.editMode)("items",e.bankAccounts)("ngModel",e.settings.primary_budget_account_id),s.xp6(1),s.Q6J("ngIf",e.editMode)("ngIfElse",t),s.xp6(3),s.Q6J("ngIf","single"===e.settings.family_type)("ngIfElse",i),s.xp6(4),s.Q6J("editMode",e.editMode)}},directives:[A.a8,A.n5,A.dn,x.d,c.JJ,c.On,l.O5,A.hq,u.Y,D.KE,E.gD,l.sg,G.ey,r.a],styles:['.text-display{margin-bottom:20px}.value[_ngcontent-%COMP%]{width:100%;font-size:12px;font-family:Roboto,"Helvetica Neue",sans-serif}.form[_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%], .form[_nghost-%COMP%]   .value[_ngcontent-%COMP%]{height:35px;margin-top:10px;margin-bottom:20px;font-size:16px}.text-display[_ngcontent-%COMP%]{display:flex;flex-direction:column}.label[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:1.125;color:#0000008a;font-family:Roboto,"Helvetica Neue",sans-serif}']}),t})()}];let z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[o.Bz.forChild(X)],o.Bz]}),t})(),j=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[f],imports:[[n.m,z]]}),t})()}}]);