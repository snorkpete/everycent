(self.webpackChunkeverycent=self.webpackChunkeverycent||[]).push([[265],{8765:function(Et,tt,ot){Et.exports=function(q,j){"use strict";var lt;return q=q&&q.hasOwnProperty("default")?q.default:q,j=j&&j.hasOwnProperty("default")?j.default:j,function(pt){var I;(I=window).DOMParser=window.DOMParser;var Y=I.document;function C(b,t){var A;return(A=Y.createElement("canvas")).width=b,A.height=t,A}var N,et=function(b,t,A){if(null!=b||null!=t||null!=A){var o=g(A||{});"string"==typeof b&&(b=Y.getElementById(b)),null!=b.svg&&b.svg.stop(),b.childNodes&&1==b.childNodes.length&&"OBJECT"==b.childNodes[0].nodeName||(b.svg=o);var n=b.getContext("2d");void 0!==t.documentElement?o.loadXmlDoc(n,t):"<"==t.substr(0,1)?o.loadXml(n,t):o.load(n,t)}else for(var e=Y.querySelectorAll("svg"),i=0;i<e.length;i++){var a=e[i],s=Y.createElement("canvas");if(void 0!==a.clientWidth&&void 0!==a.clientHeight)s.width=a.clientWidth,s.height=a.clientHeight;else{var r=a.getBoundingClientRect();s.width=r.width,s.height=r.height}a.parentNode.insertBefore(s,a),a.parentNode.removeChild(a);var l=Y.createElement("div");l.appendChild(a),et(s,l.innerHTML)}};typeof Element>"u"||(void 0!==Element.prototype.matches?N=function(b,t){return b.matches(t)}:void 0!==Element.prototype.webkitMatchesSelector?N=function(b,t){return b.webkitMatchesSelector(t)}:void 0!==Element.prototype.mozMatchesSelector?N=function(b,t){return b.mozMatchesSelector(t)}:void 0!==Element.prototype.msMatchesSelector?N=function(b,t){return b.msMatchesSelector(t)}:void 0!==Element.prototype.oMatchesSelector?N=function(b,t){return b.oMatchesSelector(t)}:("function"!=typeof jQuery&&"function"!=typeof Zepto||(N=function(b,t){return $(b).is(t)}),void 0===N&&typeof Sizzle<"u"&&(N=Sizzle.matchesSelector)));var ht=/(\[[^\]]+\])/g,rt=/(#[^\s\+>~\.\[:]+)/g,w=/(\.[^\s\+>~\.\[:]+)/g,B=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,O=/(:[\w-]+\([^\)]*\))/gi,T=/(:[^\s\+>~\.\[:]+)/g,X=/([^\s\+>~\.\[:]+)/g;function V(b){var t=[0,0,0],A=function(o,n){var e=b.match(o);null!=e&&(t[n]+=e.length,b=b.replace(o," "))};return b=(b=b.replace(/:not\(([^\)]*)\)/g,"     $1 ")).replace(/{[\s\S]*/gm," "),A(ht,1),A(rt,0),A(w,1),A(B,2),A(O,1),A(T,1),b=(b=b.replace(/[\*\s\+>~]/g," ")).replace(/[#\.]/g," "),A(X,2),t.join("")}function g(b){var t={opts:b,FRAMERATE:30,MAX_VIRTUAL_PIXELS:3e4,rootEmSize:12,emSize:12,log:function(){}};1==t.opts.log&&typeof console<"u"&&(t.log=function(o){console.log(o)}),t.init=function(o){var n=0;t.UniqueId=function(){return"canvg"+ ++n},t.Definitions={},t.Styles={},t.StylesSpecificity={},t.Animations=[],t.Images=[],t.ctx=o,t.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(e,i){this.viewPorts.push({width:e,height:i})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(e){return null!=e&&"number"==typeof e?e:"x"==e?this.width():"y"==e?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},t.init(),t.ImagesLoaded=function(){for(var o=0;o<t.Images.length;o++)if(!t.Images[o].loaded)return!1;return!0},t.trim=function(o){return o.replace(/^\s+|\s+$/g,"")},t.compressSpaces=function(o){return o.replace(/(?!\u3000)\s+/gm," ")},t.ajax=function(o){var n;return(n=I.XMLHttpRequest?new I.XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"))?(n.open("GET",o,!1),n.send(null),n.responseText):null},t.parseXml=function(o){if(typeof Windows<"u"&&void 0!==Windows.Data&&void 0!==Windows.Data.Xml){var n=new Windows.Data.Xml.Dom.XmlDocument,e=new Windows.Data.Xml.Dom.XmlLoadSettings;return e.prohibitDtd=!1,n.loadXml(o,e),n}if(!I.DOMParser)return o=o.replace(/<!DOCTYPE svg[^>]*>/,""),(n=new ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(o),n;try{var i=b.xmldom?new I.DOMParser(b.xmldom):new I.DOMParser;return i.parseFromString(o,"image/svg+xml")}catch{return(i=b.xmldom?new I.DOMParser(b.xmldom):new I.DOMParser).parseFromString(o,"text/xml")}},t.Property=function(o,n){this.name=o,this.value=n},t.Property.prototype.getValue=function(){return this.value},t.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value},t.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var o=parseFloat(this.value);return(this.value+"").match(/%$/)&&(o/=100),o},t.Property.prototype.valueOrDefault=function(o){return this.hasValue()?this.value:o},t.Property.prototype.numValueOrDefault=function(o){return this.hasValue()?this.numValue():parseFloat(o)},t.Property.prototype.addOpacity=function(o){var n=this.value;if(null!=o.value&&""!=o.value&&"string"==typeof this.value){var e=new q(this.value);e.ok&&(n="rgba("+e.r+", "+e.g+", "+e.b+", "+o.numValue()+")")}return new t.Property(this.name,n)},t.Property.prototype.getDefinition=function(){var o=this.value.match(/#([^\)'"]+)/);return o&&(o=o[1]),o||(o=this.value),t.Definitions[o]},t.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},t.Property.prototype.getFillStyleDefinition=function(o,n){var e=this.getDefinition();if(null!=e&&e.createGradient)return e.createGradient(t.ctx,o,n);if(null!=e&&e.createPattern){if(e.getHrefAttribute().hasValue()){var i=e.attribute("patternTransform");e=e.getHrefAttribute().getDefinition(),i.hasValue()&&(e.attribute("patternTransform",!0).value=i.value)}return e.createPattern(t.ctx,o,n)}return null},t.Property.prototype.getDPI=function(){return 96},t.Property.prototype.getREM=function(){return t.rootEmSize},t.Property.prototype.getEM=function(){return t.emSize},t.Property.prototype.getUnits=function(){return(this.value+"").replace(/[0-9\.\-]/g,"")},t.Property.prototype.isPixels=function(){if(!this.hasValue())return!1;var o=this.value+"";return!!o.match(/px$/)||!!o.match(/^[0-9]+$/)},t.Property.prototype.toPixels=function(o,n){if(!this.hasValue())return 0;var e=this.value+"";if(e.match(/rem$/))return this.numValue()*this.getREM(o);if(e.match(/em$/))return this.numValue()*this.getEM(o);if(e.match(/ex$/))return this.numValue()*this.getEM(o)/2;if(e.match(/px$/))return this.numValue();if(e.match(/pt$/))return this.numValue()*this.getDPI(o)*(1/72);if(e.match(/pc$/))return 15*this.numValue();if(e.match(/cm$/))return this.numValue()*this.getDPI(o)/2.54;if(e.match(/mm$/))return this.numValue()*this.getDPI(o)/25.4;if(e.match(/in$/))return this.numValue()*this.getDPI(o);if(e.match(/%$/))return this.numValue()*t.ViewPort.ComputeSize(o);var i=this.numValue();return n&&i<1?i*t.ViewPort.ComputeSize(o):i},t.Property.prototype.toMilliseconds=function(){return this.hasValue()?(this.value+"").match(/ms$/)?this.numValue():1e3*this.numValue():0},t.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var o=this.value+"";return o.match(/deg$/)?this.numValue()*(Math.PI/180):o.match(/grad$/)?this.numValue()*(Math.PI/200):o.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)};var A={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};return t.Property.prototype.toTextBaseline=function(){return this.hasValue()?A[this.value]:null},t.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(n,e,i,a,s,r){var l=null!=r?this.Parse(r):this.CreateFont("","","","","",t.ctx.font);return{fontFamily:s=s||l.fontFamily,fontSize:a||l.fontSize,fontStyle:n||l.fontStyle,fontWeight:i||l.fontWeight,fontVariant:e||l.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var o=this;this.Parse=function(n){for(var e={},i=t.trim(t.compressSpaces(n||"")).split(" "),a={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},s="",r=0;r<i.length;r++)a.fontStyle||-1==o.Styles.indexOf(i[r])?a.fontVariant||-1==o.Variants.indexOf(i[r])?a.fontWeight||-1==o.Weights.indexOf(i[r])?a.fontSize?"inherit"!=i[r]&&(s+=i[r]):("inherit"!=i[r]&&(e.fontSize=i[r].split("/")[0]),a.fontStyle=a.fontVariant=a.fontWeight=a.fontSize=!0):("inherit"!=i[r]&&(e.fontWeight=i[r]),a.fontStyle=a.fontVariant=a.fontWeight=!0):("inherit"!=i[r]&&(e.fontVariant=i[r]),a.fontStyle=a.fontVariant=!0):("inherit"!=i[r]&&(e.fontStyle=i[r]),a.fontStyle=!0);return""!=s&&(e.fontFamily=s),e}},t.ToNumberArray=function(o){for(var n=(o||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[],e=0;e<n.length;e++)n[e]=parseFloat(n[e]);return n},t.Point=function(o,n){this.x=o,this.y=n},t.Point.prototype.angleTo=function(o){return Math.atan2(o.y-this.y,o.x-this.x)},t.Point.prototype.applyTransform=function(o){var e=this.x*o[1]+this.y*o[3]+o[5];this.x=this.x*o[0]+this.y*o[2]+o[4],this.y=e},t.CreatePoint=function(o){var n=t.ToNumberArray(o);return new t.Point(n[0],n[1])},t.CreatePath=function(o){for(var n=t.ToNumberArray(o),e=[],i=0;i<n.length;i+=2)e.push(new t.Point(n[i],n[i+1]));return e},t.BoundingBox=function(o,n,e,i){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(a,s){null!=a&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=a,this.x2=a),a<this.x1&&(this.x1=a),a>this.x2&&(this.x2=a)),null!=s&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=s,this.y2=s),s<this.y1&&(this.y1=s),s>this.y2&&(this.y2=s))},this.addX=function(a){this.addPoint(a,null)},this.addY=function(a){this.addPoint(null,a)},this.addBoundingBox=function(a){this.addPoint(a.x1,a.y1),this.addPoint(a.x2,a.y2)},this.addQuadraticCurve=function(a,s,r,l,u,h){var f=a+.6666666666666666*(r-a),c=s+2/3*(l-s);this.addBezierCurve(a,s,f,f+1/3*(u-a),c,c+1/3*(h-s),u,h)},this.addBezierCurve=function(a,s,r,l,u,h,f,c){var d=[a,s],p=[r,l],y=[u,h],m=[f,c];this.addPoint(d[0],d[1]),this.addPoint(m[0],m[1]);for(var v=0;v<=1;v++){var P=function(S){return Math.pow(1-S,3)*d[v]+3*Math.pow(1-S,2)*S*p[v]+3*(1-S)*Math.pow(S,2)*y[v]+Math.pow(S,3)*m[v]},x=6*d[v]-12*p[v]+6*y[v],R=-3*d[v]+9*p[v]-9*y[v]+3*m[v],D=3*p[v]-3*d[v];if(0!=R){var E=Math.pow(x,2)-4*D*R;if(!(E<0)){var M=(-x+Math.sqrt(E))/(2*R);0<M&&M<1&&(0==v&&this.addX(P(M)),1==v&&this.addY(P(M)));var L=(-x-Math.sqrt(E))/(2*R);0<L&&L<1&&(0==v&&this.addX(P(L)),1==v&&this.addY(P(L)))}}else{if(0==x)continue;var k=-D/x;0<k&&k<1&&(0==v&&this.addX(P(k)),1==v&&this.addY(P(k)))}}},this.isPointInBox=function(a,s){return this.x1<=a&&a<=this.x2&&this.y1<=s&&s<=this.y2},this.addPoint(o,n),this.addPoint(e,i)},t.Transform=function(o){var n=this;this.Type={},this.Type.translate=function(u){this.p=t.CreatePoint(u),this.apply=function(h){h.translate(this.p.x||0,this.p.y||0)},this.unapply=function(h){h.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(h){h.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(u){var h=t.ToNumberArray(u);this.angle=new t.Property("angle",h[0]),this.cx=h[1]||0,this.cy=h[2]||0,this.apply=function(f){f.translate(this.cx,this.cy),f.rotate(this.angle.toRadians()),f.translate(-this.cx,-this.cy)},this.unapply=function(f){f.translate(this.cx,this.cy),f.rotate(-1*this.angle.toRadians()),f.translate(-this.cx,-this.cy)},this.applyToPoint=function(f){var c=this.angle.toRadians();f.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),f.applyTransform([Math.cos(c),Math.sin(c),-Math.sin(c),Math.cos(c),0,0]),f.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(u){this.p=t.CreatePoint(u),this.apply=function(h){h.scale(this.p.x||1,this.p.y||this.p.x||1)},this.unapply=function(h){h.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)},this.applyToPoint=function(h){h.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(u){this.m=t.ToNumberArray(u),this.apply=function(h){h.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.unapply=function(h){var f=this.m[0],c=this.m[2],d=this.m[4],p=this.m[1],y=this.m[3],m=this.m[5],v=1/(f*(1*y-0*m)-c*(1*p-0*m)+d*(0*p-0*y));h.transform(v*(1*y-0*m),v*(0*m-1*p),v*(0*d-1*c),v*(1*f-0*d),v*(c*m-d*y),v*(d*p-f*m))},this.applyToPoint=function(h){h.applyTransform(this.m)}},this.Type.SkewBase=function(u){this.base=n.Type.matrix,this.base(u),this.angle=new t.Property("angle",u)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(u){this.base=n.Type.SkewBase,this.base(u),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(u){this.base=n.Type.SkewBase,this.base(u),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(u){for(var h=0;h<this.transforms.length;h++)this.transforms[h].apply(u)},this.unapply=function(u){for(var h=this.transforms.length-1;0<=h;h--)this.transforms[h].unapply(u)},this.applyToPoint=function(u){for(var h=0;h<this.transforms.length;h++)this.transforms[h].applyToPoint(u)};for(var e=t.trim(t.compressSpaces(o)).replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),i=0;i<e.length;i++)if("none"!==e[i]){var a=t.trim(e[i].split("(")[0]),s=e[i].split("(")[1].replace(")",""),r=this.Type[a];if(void 0!==r){var l=new r(s);l.type=a,this.transforms.push(l)}}},t.AspectRatio=function(o,n,e,i,a,s,r,l,u,h){var f=(n=(n=t.compressSpaces(n)).replace(/^defer\s/,"")).split(" ")[0]||"xMidYMid",c=n.split(" ")[1]||"meet",d=e/i,p=a/s,y=Math.min(d,p),m=Math.max(d,p);"meet"==c&&(i*=y,s*=y),"slice"==c&&(i*=m,s*=m),u=new t.Property("refX",u),h=new t.Property("refY",h),u.hasValue()&&h.hasValue()?o.translate(-y*u.toPixels("x"),-y*h.toPixels("y")):(f.match(/^xMid/)&&("meet"==c&&y==p||"slice"==c&&m==p)&&o.translate(e/2-i/2,0),f.match(/YMid$/)&&("meet"==c&&y==d||"slice"==c&&m==d)&&o.translate(0,a/2-s/2),f.match(/^xMax/)&&("meet"==c&&y==p||"slice"==c&&m==p)&&o.translate(e-i,0),f.match(/YMax$/)&&("meet"==c&&y==d||"slice"==c&&m==d)&&o.translate(0,a-s)),"none"==f?o.scale(d,p):"meet"==c?o.scale(y,y):"slice"==c&&o.scale(m,m),o.translate(null==r?0:-r,null==l?0:-l)},t.Element={},t.EmptyProperty=new t.Property("EMPTY",""),t.Element.ElementBase=function(o){this.attributes={},this.styles={},this.stylesSpecificity={},this.children=[],this.attribute=function(d,p){var y=this.attributes[d];return y??(1==p&&(y=new t.Property(d,""),this.attributes[d]=y),y||t.EmptyProperty)},this.getHrefAttribute=function(){for(var d in this.attributes)if("href"==d||d.match(/:href$/))return this.attributes[d];return t.EmptyProperty},this.style=function(d,p,y){var m=this.styles[d];if(null!=m)return m;var v=this.attribute(d);if(null!=v&&v.hasValue())return this.styles[d]=v;if(1!=y){var P=this.parent;if(null!=P){var x=P.style(d);if(null!=x&&x.hasValue())return x}}return 1==p&&(m=new t.Property(d,""),this.styles[d]=m),m||t.EmptyProperty},this.render=function(d){"none"!=this.style("display").value&&"hidden"!=this.style("visibility").value&&(d.save(),this.style("mask").hasValue()?this.style("mask").getDefinition()?.apply(d,this):this.style("filter").hasValue()?this.style("filter").getDefinition()?.apply(d,this):(this.setContext(d),this.renderChildren(d),this.clearContext(d)),d.restore())},this.setContext=function(){},this.clearContext=function(){},this.renderChildren=function(d){for(var p=0;p<this.children.length;p++)this.children[p].render(d)},this.addChild=function(d,p){var y=d;p&&(y=t.CreateElement(d)),y.parent=this,"title"!=y.type&&this.children.push(y)},this.addStylesFromStyleDefinition=function(){for(var d in t.Styles)if("@"!=d[0]&&N(o,d)){var p=t.Styles[d],y=t.StylesSpecificity[d];if(null!=p)for(var m in p){var v=this.stylesSpecificity[m];void 0===v&&(v="000"),v<=y&&(this.styles[m]=p[m],this.stylesSpecificity[m]=y)}}};var n,e=new RegExp("^[A-Z-]+$");if(null!=o&&1==o.nodeType){for(var i=0;i<o.attributes.length;i++){var a=o.attributes[i],s=e.test(n=a.nodeName)?n.toLowerCase():n;this.attributes[s]=new t.Property(s,a.value)}if(this.addStylesFromStyleDefinition(),this.attribute("style").hasValue()){var r=this.attribute("style").value.split(";");for(i=0;i<r.length;i++)if(""!=t.trim(r[i])){var l=r[i].split(":"),u=t.trim(l[0]),h=t.trim(l[1]);this.styles[u]=new t.Property(u,h)}}for(this.attribute("id").hasValue()&&null==t.Definitions[this.attribute("id").value]&&(t.Definitions[this.attribute("id").value]=this),i=0;i<o.childNodes.length;i++){var f=o.childNodes[i];1==f.nodeType&&this.addChild(f,!0),!this.captureTextNodes||3!=f.nodeType&&4!=f.nodeType||""!=t.compressSpaces(f.value||f.text||f.textContent||"")&&this.addChild(new t.Element.tspan(f),!1)}}},t.Element.RenderedElementBase=function(o){this.base=t.Element.ElementBase,this.base(o),this.calculateOpacity=function(){for(var n=1,e=this;null!=e;){var i=e.style("opacity",!1,!0);i.hasValue()&&(n*=i.numValue()),e=e.parent}return n},this.setContext=function(n,e){if(!e){var i;if(this.style("fill").isUrlDefinition())null!=(i=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity")))&&(n.fillStyle=i);else if(this.style("fill").hasValue()){var a;"currentColor"==(a=this.style("fill")).value&&(a.value=this.style("color").value),"inherit"!=a.value&&(n.fillStyle="none"==a.value?"rgba(0,0,0,0)":a.value)}if(this.style("fill-opacity").hasValue()&&(a=(a=new t.Property("fill",n.fillStyle)).addOpacity(this.style("fill-opacity")),n.fillStyle=a.value),this.style("stroke").isUrlDefinition())null!=(i=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity")))&&(n.strokeStyle=i);else if(this.style("stroke").hasValue()){var s;"currentColor"==(s=this.style("stroke")).value&&(s.value=this.style("color").value),"inherit"!=s.value&&(n.strokeStyle="none"==s.value?"rgba(0,0,0,0)":s.value)}if(this.style("stroke-opacity").hasValue()&&(s=(s=new t.Property("stroke",n.strokeStyle)).addOpacity(this.style("stroke-opacity")),n.strokeStyle=s.value),this.style("stroke-width").hasValue()){var r=this.style("stroke-width").toPixels();n.lineWidth=0==r?.001:r}if(this.style("stroke-linecap").hasValue()&&(n.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(n.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(n.miterLimit=this.style("stroke-miterlimit").value),this.style("paint-order").hasValue()&&(n.paintOrder=this.style("paint-order").value),this.style("stroke-dasharray").hasValue()&&"none"!=this.style("stroke-dasharray").value){var l=t.ToNumberArray(this.style("stroke-dasharray").value);void 0!==n.setLineDash?n.setLineDash(l):void 0!==n.webkitLineDash?n.webkitLineDash=l:void 0===n.mozDash||1==l.length&&0==l[0]||(n.mozDash=l);var u=this.style("stroke-dashoffset").toPixels();void 0!==n.lineDashOffset?n.lineDashOffset=u:void 0!==n.webkitLineDashOffset?n.webkitLineDashOffset=u:void 0!==n.mozDashOffset&&(n.mozDashOffset=u)}}if(void 0!==n.font)if(this.style("font").hasValue())n.font=this.style("font").value;else{n.font=t.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString();var h=this.style("font-size",!1,!1);h.isPixels()&&(t.emSize=h.toPixels())}this.style("transform",!1,!0).hasValue()&&new t.Transform(this.style("transform",!1,!0).value).apply(n),this.style("clip-path",!1,!0).hasValue()&&this.style("clip-path",!1,!0).getDefinition()?.apply(n),n.globalAlpha=this.calculateOpacity()}},t.Element.RenderedElementBase.prototype=new t.Element.ElementBase,t.Element.PathElementBase=function(o){this.base=t.Element.RenderedElementBase,this.base(o),this.path=function(n){return n?.beginPath(),new t.BoundingBox},this.renderChildren=function(n){this.path(n),t.Mouse.checkPath(this,n),""!=n.fillStyle&&("inherit"!=this.style("fill-rule").valueOrDefault("inherit")?n.fill(this.style("fill-rule").value):n.fill()),""!=n.strokeStyle&&n.stroke();var e=this.getMarkers();if(null!=e){if(this.style("marker-start").isUrlDefinition()&&(i=this.style("marker-start").getDefinition()).render(n,e[0][0],e[0][1]),this.style("marker-mid").isUrlDefinition())for(var i=this.style("marker-mid").getDefinition(),a=1;a<e.length-1;a++)i.render(n,e[a][0],e[a][1]);this.style("marker-end").isUrlDefinition()&&(i=this.style("marker-end").getDefinition()).render(n,e[e.length-1][0],e[e.length-1][1])}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},t.Element.PathElementBase.prototype=new t.Element.RenderedElementBase,t.SetDefaults=function(o){o.strokeStyle="rgba(0,0,0,0)",o.lineCap="butt",o.lineJoin="miter",o.miterLimit=4},t.Element.svg=function(o){this.base=t.Element.RenderedElementBase,this.base(o),this.baseClearContext=this.clearContext,this.clearContext=function(n){this.baseClearContext(n),t.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(n){if(t.SetDefaults(n),n.canvas.style&&void 0!==n.font&&void 0!==I.getComputedStyle){n.font=I.getComputedStyle(n.canvas).getPropertyValue("font");var e=new t.Property("fontSize",t.Font.Parse(n.font).fontSize);e.hasValue()&&(t.rootEmSize=t.emSize=e.toPixels("y"))}this.baseSetContext(n),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),n.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var i=t.ViewPort.width(),a=t.ViewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),void 0===this.root){i=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y");var s=0,r=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(s=-this.attribute("refX").toPixels("x"),r=-this.attribute("refY").toPixels("y")),"visible"!=this.attribute("overflow").valueOrDefault("hidden")&&(n.beginPath(),n.moveTo(s,r),n.lineTo(i,r),n.lineTo(i,a),n.lineTo(s,a),n.closePath(),n.clip())}if(t.ViewPort.SetCurrent(i,a),this.attribute("viewBox").hasValue()){var l=t.ToNumberArray(this.attribute("viewBox").value),u=l[0],h=l[1];i=l[2],a=l[3],t.AspectRatio(n,this.attribute("preserveAspectRatio").value,t.ViewPort.width(),i,t.ViewPort.height(),a,u,h,this.attribute("refX").value,this.attribute("refY").value),t.ViewPort.RemoveCurrent(),t.ViewPort.SetCurrent(l[2],l[3])}}},t.Element.svg.prototype=new t.Element.RenderedElementBase,t.Element.rect=function(o){this.base=t.Element.PathElementBase,this.base(o),this.path=function(n){var e=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),a=this.attribute("width").toPixels("x"),s=this.attribute("height").toPixels("y"),r=this.attribute("rx").toPixels("x"),l=this.attribute("ry").toPixels("y");if(this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(l=r),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(r=l),r=Math.min(r,a/2),l=Math.min(l,s/2),null!=n){var u=(Math.sqrt(2)-1)/3*4;n.beginPath(),0<s&&0<a&&(n.moveTo(e+r,i),n.lineTo(e+a-r,i),n.bezierCurveTo(e+a-r+u*r,i,e+a,i+l-u*l,e+a,i+l),n.lineTo(e+a,i+s-l),n.bezierCurveTo(e+a,i+s-l+u*l,e+a-r+u*r,i+s,e+a-r,i+s),n.lineTo(e+r,i+s),n.bezierCurveTo(e+r-u*r,i+s,e,i+s-l+u*l,e,i+s-l),n.lineTo(e,i+l),n.bezierCurveTo(e,i+l-u*l,e+r-u*r,i,e+r,i),n.closePath())}return new t.BoundingBox(e,i,e+a,i+s)}},t.Element.rect.prototype=new t.Element.PathElementBase,t.Element.circle=function(o){this.base=t.Element.PathElementBase,this.base(o),this.path=function(n){var e=this.attribute("cx").toPixels("x"),i=this.attribute("cy").toPixels("y"),a=this.attribute("r").toPixels();return null!=n&&0<a&&(n.beginPath(),n.arc(e,i,a,0,2*Math.PI,!1),n.closePath()),new t.BoundingBox(e-a,i-a,e+a,i+a)}},t.Element.circle.prototype=new t.Element.PathElementBase,t.Element.ellipse=function(o){this.base=t.Element.PathElementBase,this.base(o),this.path=function(n){var e=(Math.sqrt(2)-1)/3*4,i=this.attribute("rx").toPixels("x"),a=this.attribute("ry").toPixels("y"),s=this.attribute("cx").toPixels("x"),r=this.attribute("cy").toPixels("y");return null!=n&&(n.beginPath(),n.moveTo(s+i,r),n.bezierCurveTo(s+i,r+e*a,s+e*i,r+a,s,r+a),n.bezierCurveTo(s-e*i,r+a,s-i,r+e*a,s-i,r),n.bezierCurveTo(s-i,r-e*a,s-e*i,r-a,s,r-a),n.bezierCurveTo(s+e*i,r-a,s+i,r-e*a,s+i,r),n.closePath()),new t.BoundingBox(s-i,r-a,s+i,r+a)}},t.Element.ellipse.prototype=new t.Element.PathElementBase,t.Element.line=function(o){this.base=t.Element.PathElementBase,this.base(o),this.getPoints=function(){return[new t.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new t.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(n){var e=this.getPoints();return null!=n&&(n.beginPath(),n.moveTo(e[0].x,e[0].y),n.lineTo(e[1].x,e[1].y)),new t.BoundingBox(e[0].x,e[0].y,e[1].x,e[1].y)},this.getMarkers=function(){var n=this.getPoints(),e=n[0].angleTo(n[1]);return[[n[0],e],[n[1],e]]}},t.Element.line.prototype=new t.Element.PathElementBase,t.Element.polyline=function(o){this.base=t.Element.PathElementBase,this.base(o),this.points=t.CreatePath(this.attribute("points").value),this.path=function(n){var e=new t.BoundingBox(this.points[0].x,this.points[0].y);null!=n&&(n.beginPath(),n.moveTo(this.points[0].x,this.points[0].y));for(var i=1;i<this.points.length;i++)e.addPoint(this.points[i].x,this.points[i].y),n?.lineTo(this.points[i].x,this.points[i].y);return e},this.getMarkers=function(){for(var n=[],e=0;e<this.points.length-1;e++)n.push([this.points[e],this.points[e].angleTo(this.points[e+1])]);return 0<n.length&&n.push([this.points[this.points.length-1],n[n.length-1][1]]),n}},t.Element.polyline.prototype=new t.Element.PathElementBase,t.Element.polygon=function(o){this.base=t.Element.polyline,this.base(o),this.basePath=this.path,this.path=function(n){var e=this.basePath(n);return null!=n&&(n.lineTo(this.points[0].x,this.points[0].y),n.closePath()),e}},t.Element.polygon.prototype=new t.Element.polyline,t.Element.path=function(o){this.base=t.Element.PathElementBase,this.base(o);var n=this.attribute("d").value;n=n.replace(/,/gm," ");for(var e=0;e<2;e++)n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2");for(n=(n=n.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2")).replace(/([0-9])([+\-])/gm,"$1 $2"),e=0;e<2;e++)n=n.replace(/(\.[0-9]*)(\.)/gm,"$1 $2");n=n.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),n=t.compressSpaces(n),n=t.trim(n),this.PathParser=new function(i){this.tokens=i.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new t.Point(0,0),this.control=new t.Point(0,0),this.current=new t.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return!!this.isEnd()||null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var a=new t.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(a)},this.getAsControlPoint=function(){var a=this.getPoint();return this.control=a},this.getAsCurrentPoint=function(){var a=this.getPoint();return this.current=a},this.getReflectedControlPoint=function(){return"c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase()?this.current:new t.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y)},this.makeAbsolute=function(a){return this.isRelativeCommand()&&(a.x+=this.current.x,a.y+=this.current.y),a},this.addMarker=function(a,s,r){null!=r&&0<this.angles.length&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(r)),this.addMarkerAngle(a,null==s?null:s.angleTo(a))},this.addMarkerAngle=function(a,s){this.points.push(a),this.angles.push(s)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var a=0;a<this.angles.length;a++)if(null==this.angles[a])for(var s=a+1;s<this.angles.length;s++)if(null!=this.angles[s]){this.angles[a]=this.angles[s];break}return this.angles}}(n),this.path=function(i){var a=this.PathParser;a.reset();var s=new t.BoundingBox;for(null!=i&&i.beginPath();!a.isEnd();)switch(a.nextCommand(),a.command){case"M":case"m":var r=a.getAsCurrentPoint();for(a.addMarker(r),s.addPoint(r.x,r.y),i?.moveTo(r.x,r.y),a.start=a.current;!a.isCommandOrEnd();)r=a.getAsCurrentPoint(),a.addMarker(r,a.start),s.addPoint(r.x,r.y),i?.lineTo(r.x,r.y);break;case"L":case"l":for(;!a.isCommandOrEnd();){var l=a.current;r=a.getAsCurrentPoint(),a.addMarker(r,l),s.addPoint(r.x,r.y),i?.lineTo(r.x,r.y)}break;case"H":case"h":for(;!a.isCommandOrEnd();){var u=new t.Point((a.isRelativeCommand()?a.current.x:0)+a.getScalar(),a.current.y);a.addMarker(u,a.current),a.current=u,s.addPoint(a.current.x,a.current.y),i?.lineTo(a.current.x,a.current.y)}break;case"V":case"v":for(;!a.isCommandOrEnd();)u=new t.Point(a.current.x,(a.isRelativeCommand()?a.current.y:0)+a.getScalar()),a.addMarker(u,a.current),a.current=u,s.addPoint(a.current.x,a.current.y),i?.lineTo(a.current.x,a.current.y);break;case"C":case"c":for(;!a.isCommandOrEnd();){var h=a.current,f=a.getPoint(),c=a.getAsControlPoint(),d=a.getAsCurrentPoint();a.addMarker(d,c,f),s.addBezierCurve(h.x,h.y,f.x,f.y,c.x,c.y,d.x,d.y),i?.bezierCurveTo(f.x,f.y,c.x,c.y,d.x,d.y)}break;case"S":case"s":for(;!a.isCommandOrEnd();)h=a.current,f=a.getReflectedControlPoint(),c=a.getAsControlPoint(),d=a.getAsCurrentPoint(),a.addMarker(d,c,f),s.addBezierCurve(h.x,h.y,f.x,f.y,c.x,c.y,d.x,d.y),i?.bezierCurveTo(f.x,f.y,c.x,c.y,d.x,d.y);break;case"Q":case"q":for(;!a.isCommandOrEnd();)h=a.current,c=a.getAsControlPoint(),d=a.getAsCurrentPoint(),a.addMarker(d,c,c),s.addQuadraticCurve(h.x,h.y,c.x,c.y,d.x,d.y),i?.quadraticCurveTo(c.x,c.y,d.x,d.y);break;case"T":case"t":for(;!a.isCommandOrEnd();)h=a.current,c=a.getReflectedControlPoint(),a.control=c,d=a.getAsCurrentPoint(),a.addMarker(d,c,c),s.addQuadraticCurve(h.x,h.y,c.x,c.y,d.x,d.y),i?.quadraticCurveTo(c.x,c.y,d.x,d.y);break;case"A":case"a":for(;!a.isCommandOrEnd();){h=a.current;var p=a.getScalar(),y=a.getScalar(),m=a.getScalar()*(Math.PI/180),v=a.getScalar(),P=a.getScalar(),x=(d=a.getAsCurrentPoint(),new t.Point(Math.cos(m)*(h.x-d.x)/2+Math.sin(m)*(h.y-d.y)/2,-Math.sin(m)*(h.x-d.x)/2+Math.cos(m)*(h.y-d.y)/2)),R=Math.pow(x.x,2)/Math.pow(p,2)+Math.pow(x.y,2)/Math.pow(y,2);1<R&&(p*=Math.sqrt(R),y*=Math.sqrt(R));var D=(v==P?-1:1)*Math.sqrt((Math.pow(p,2)*Math.pow(y,2)-Math.pow(p,2)*Math.pow(x.y,2)-Math.pow(y,2)*Math.pow(x.x,2))/(Math.pow(p,2)*Math.pow(x.y,2)+Math.pow(y,2)*Math.pow(x.x,2)));isNaN(D)&&(D=0);var E=new t.Point(D*p*x.y/y,D*-y*x.x/p),M=new t.Point((h.x+d.x)/2+Math.cos(m)*E.x-Math.sin(m)*E.y,(h.y+d.y)/2+Math.sin(m)*E.x+Math.cos(m)*E.y),L=function(J){return Math.sqrt(Math.pow(J[0],2)+Math.pow(J[1],2))},k=function(J,_){return(J[0]*_[0]+J[1]*_[1])/(L(J)*L(_))},S=function(J,_){return(J[0]*_[1]<J[1]*_[0]?-1:1)*Math.acos(k(J,_))},G=S([1,0],[(x.x-E.x)/p,(x.y-E.y)/y]),U=[(x.x-E.x)/p,(x.y-E.y)/y],Q=[(-x.x-E.x)/p,(-x.y-E.y)/y],K=S(U,Q);k(U,Q)<=-1&&(K=Math.PI),1<=k(U,Q)&&(K=0);var W=1-P?1:-1,F=G+W*(K/2),H=new t.Point(M.x+p*Math.cos(F),M.y+y*Math.sin(F));if(a.addMarkerAngle(H,F-W*Math.PI/2),a.addMarkerAngle(d,F-W*Math.PI),s.addPoint(d.x,d.y),null!=i&&!isNaN(G)&&!isNaN(K)){k=y<p?p:y;var z=y<p?1:p/y,Z=y<p?y/p:1;i.translate(M.x,M.y),i.rotate(m),i.scale(z,Z),i.arc(0,0,k,G,G+K,1-P),i.scale(1/z,1/Z),i.rotate(-m),i.translate(-M.x,-M.y)}}break;case"Z":case"z":null!=i&&s.x1!==s.x2&&s.y1!==s.y2&&i.closePath(),a.current=a.start}return s},this.getMarkers=function(){for(var i=this.PathParser.getMarkerPoints(),a=this.PathParser.getMarkerAngles(),s=[],r=0;r<i.length;r++)s.push([i[r],a[r]]);return s}},t.Element.path.prototype=new t.Element.PathElementBase,t.Element.pattern=function(o){this.base=t.Element.ElementBase,this.base(o),this.createPattern=function(n,e,i){var a=this.attribute("width").toPixels("x",!0),s=this.attribute("height").toPixels("y",!0),r=new t.Element.svg;r.attributes.viewBox=new t.Property("viewBox",this.attribute("viewBox").value),r.attributes.width=new t.Property("width",a+"px"),r.attributes.height=new t.Property("height",s+"px"),r.attributes.transform=new t.Property("transform",this.attribute("patternTransform").value),r.children=this.children;var l=C(a,s),u=l.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&u.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0)),i.hasValue()?this.styles["fill-opacity"]=i:delete this.styles["fill-opacity"];for(var h=-1;h<=1;h++)for(var f=-1;f<=1;f++)u.save(),r.attributes.x=new t.Property("x",h*l.width),r.attributes.y=new t.Property("y",f*l.height),r.render(u),u.restore();return n.createPattern(l,"repeat")}},t.Element.pattern.prototype=new t.Element.ElementBase,t.Element.marker=function(o){this.base=t.Element.ElementBase,this.base(o),this.baseRender=this.render,this.render=function(n,e,i){if(e){n.translate(e.x,e.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&n.rotate(i),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&n.scale(n.lineWidth,n.lineWidth),n.save();var a=new t.Element.svg;a.attributes.viewBox=new t.Property("viewBox",this.attribute("viewBox").value),a.attributes.refX=new t.Property("refX",this.attribute("refX").value),a.attributes.refY=new t.Property("refY",this.attribute("refY").value),a.attributes.width=new t.Property("width",this.attribute("markerWidth").value),a.attributes.height=new t.Property("height",this.attribute("markerHeight").value),a.attributes.fill=new t.Property("fill",this.attribute("fill").valueOrDefault("black")),a.attributes.stroke=new t.Property("stroke",this.attribute("stroke").valueOrDefault("none")),a.children=this.children,a.render(n),n.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&n.scale(1/n.lineWidth,1/n.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&n.rotate(-i),n.translate(-e.x,-e.y)}}},t.Element.marker.prototype=new t.Element.ElementBase,t.Element.defs=function(o){this.base=t.Element.ElementBase,this.base(o),this.render=function(){}},t.Element.defs.prototype=new t.Element.ElementBase,t.Element.GradientBase=function(o){this.base=t.Element.ElementBase,this.base(o),this.stops=[];for(var n=0;n<this.children.length;n++){var e=this.children[n];"stop"==e.type&&this.stops.push(e)}this.getGradient=function(){},this.gradientUnits=function(){return this.attribute("gradientUnits").valueOrDefault("objectBoundingBox")},this.attributesToInherit=["gradientUnits"],this.inheritStopContainer=function(i){for(var a=0;a<this.attributesToInherit.length;a++){var s=this.attributesToInherit[a];!this.attribute(s).hasValue()&&i.attribute(s).hasValue()&&(this.attribute(s,!0).value=i.attribute(s).value)}},this.createGradient=function(i,a,s){var r=this;this.getHrefAttribute().hasValue()&&(r=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(r));var l=function(v){return s.hasValue()?new t.Property("color",v).addOpacity(s).value:v},u=this.getGradient(i,a);if(null==u)return l(r.stops[r.stops.length-1].color);for(var h=0;h<r.stops.length;h++)u.addColorStop(r.stops[h].offset,l(r.stops[h].color));if(this.attribute("gradientTransform").hasValue()){var f=t.ViewPort.viewPorts[0],c=new t.Element.rect;c.attributes.x=new t.Property("x",-t.MAX_VIRTUAL_PIXELS/3),c.attributes.y=new t.Property("y",-t.MAX_VIRTUAL_PIXELS/3),c.attributes.width=new t.Property("width",t.MAX_VIRTUAL_PIXELS),c.attributes.height=new t.Property("height",t.MAX_VIRTUAL_PIXELS);var d=new t.Element.g;d.attributes.transform=new t.Property("transform",this.attribute("gradientTransform").value),d.children=[c];var p=new t.Element.svg;p.attributes.x=new t.Property("x",0),p.attributes.y=new t.Property("y",0),p.attributes.width=new t.Property("width",f.width),p.attributes.height=new t.Property("height",f.height),p.children=[d];var y=C(f.width,f.height),m=y.getContext("2d");return m.fillStyle=u,p.render(m),m.createPattern(y,"no-repeat")}return u}},t.Element.GradientBase.prototype=new t.Element.ElementBase,t.Element.linearGradient=function(o){this.base=t.Element.GradientBase,this.base(o),this.attributesToInherit.push("x1"),this.attributesToInherit.push("y1"),this.attributesToInherit.push("x2"),this.attributesToInherit.push("y2"),this.getGradient=function(n,e){var i="objectBoundingBox"==this.gradientUnits()?e.getBoundingBox(n):null;this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var a="objectBoundingBox"==this.gradientUnits()?i.x()+i.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),s="objectBoundingBox"==this.gradientUnits()?i.y()+i.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),r="objectBoundingBox"==this.gradientUnits()?i.x()+i.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),l="objectBoundingBox"==this.gradientUnits()?i.y()+i.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return a==r&&s==l?null:n.createLinearGradient(a,s,r,l)}},t.Element.linearGradient.prototype=new t.Element.GradientBase,t.Element.radialGradient=function(o){this.base=t.Element.GradientBase,this.base(o),this.attributesToInherit.push("cx"),this.attributesToInherit.push("cy"),this.attributesToInherit.push("r"),this.attributesToInherit.push("fx"),this.attributesToInherit.push("fy"),this.attributesToInherit.push("fr"),this.getGradient=function(n,e){var i=e.getBoundingBox(n);this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var a="objectBoundingBox"==this.gradientUnits()?i.x()+i.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),s="objectBoundingBox"==this.gradientUnits()?i.y()+i.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),r=a,l=s;this.attribute("fx").hasValue()&&(r="objectBoundingBox"==this.gradientUnits()?i.x()+i.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(l="objectBoundingBox"==this.gradientUnits()?i.y()+i.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));var u="objectBoundingBox"==this.gradientUnits()?(i.width()+i.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels(),h=this.attribute("fr").toPixels();return n.createRadialGradient(r,l,h,a,s,u)}},t.Element.radialGradient.prototype=new t.Element.GradientBase,t.Element.stop=function(o){this.base=t.Element.ElementBase,this.base(o),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),1<this.offset&&(this.offset=1);var n=this.style("stop-color",!0);""===n.value&&(n.value="#000"),this.style("stop-opacity").hasValue()&&(n=n.addOpacity(this.style("stop-opacity"))),this.color=n.value},t.Element.stop.prototype=new t.Element.ElementBase,t.Element.AnimateBase=function(o){this.base=t.Element.ElementBase,this.base(o),t.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var n=this.attribute("attributeType").value,e=this.attribute("attributeName").value;return"CSS"==n?this.parent.style(e,!0):this.parent.attribute(e,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(n){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"==this.attribute("repeatCount").value||"indefinite"==this.attribute("repeatDur").value)this.duration=0;else if("freeze"!=this.attribute("fill").valueOrDefault("remove")||this.frozen){if("remove"==this.attribute("fill").valueOrDefault("remove")&&!this.removed)return this.removed=!0,this.getProperty().value=this.parent.animationFrozen?this.parent.animationFrozenValue:this.initialValue,!0}else this.frozen=!0,this.parent.animationFrozen=!0,this.parent.animationFrozenValue=this.getProperty().value;return!1}this.duration=this.duration+n;var e=!1;if(this.begin<this.duration){var i=this.calcValue();this.attribute("type").hasValue()&&(i=this.attribute("type").value+"("+i+")"),this.getProperty().value=i,e=!0}return e},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var n={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var e=n.progress*(this.values.value.length-1),i=Math.floor(e),a=Math.ceil(e);n.from=new t.Property("from",parseFloat(this.values.value[i])),n.to=new t.Property("to",parseFloat(this.values.value[a])),n.progress=(e-i)/(a-i)}else n.from=this.from,n.to=this.to;return n}},t.Element.AnimateBase.prototype=new t.Element.ElementBase,t.Element.animate=function(o){this.base=t.Element.AnimateBase,this.base(o),this.calcValue=function(){var n=this.progress(),e=n.from.numValue()+(n.to.numValue()-n.from.numValue())*n.progress;return"%"===this.initialUnits&&(e*=100),e+this.initialUnits}},t.Element.animate.prototype=new t.Element.AnimateBase,t.Element.animateColor=function(o){this.base=t.Element.AnimateBase,this.base(o),this.calcValue=function(){var n=this.progress(),e=new q(n.from.value),i=new q(n.to.value);if(e.ok&&i.ok){var s=e.g+(i.g-e.g)*n.progress,r=e.b+(i.b-e.b)*n.progress;return"rgb("+parseInt(e.r+(i.r-e.r)*n.progress,10)+","+parseInt(s,10)+","+parseInt(r,10)+")"}return this.attribute("from").value}},t.Element.animateColor.prototype=new t.Element.AnimateBase,t.Element.animateTransform=function(o){this.base=t.Element.AnimateBase,this.base(o),this.calcValue=function(){for(var n=this.progress(),e=t.ToNumberArray(n.from.value),i=t.ToNumberArray(n.to.value),a="",s=0;s<e.length;s++)a+=e[s]+(i[s]-e[s])*n.progress+" ";return a}},t.Element.animateTransform.prototype=new t.Element.animate,t.Element.font=function(o){this.base=t.Element.ElementBase,this.base(o),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var n=0;n<this.children.length;n++){var e=this.children[n];"font-face"==e.type?(this.fontFace=e).style("font-family").hasValue()&&(t.Definitions[e.style("font-family").value]=this):"missing-glyph"==e.type?this.missingGlyph=e:"glyph"==e.type&&(""!=e.arabicForm?(this.isRTL=!0,this.isArabic=!0,void 0===this.glyphs[e.unicode]&&(this.glyphs[e.unicode]=[]),this.glyphs[e.unicode][e.arabicForm]=e):this.glyphs[e.unicode]=e)}this.render=function(){}},t.Element.font.prototype=new t.Element.ElementBase,t.Element.fontface=function(o){this.base=t.Element.ElementBase,this.base(o),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},t.Element.fontface.prototype=new t.Element.ElementBase,t.Element.missingglyph=function(o){this.base=t.Element.path,this.base(o),this.horizAdvX=0},t.Element.missingglyph.prototype=new t.Element.path,t.Element.glyph=function(o){this.base=t.Element.path,this.base(o),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},t.Element.glyph.prototype=new t.Element.path,t.Element.text=function(o){this.captureTextNodes=!0,this.base=t.Element.RenderedElementBase,this.base(o),this.baseSetContext=this.setContext,this.setContext=function(n){this.baseSetContext(n);var e=this.style("dominant-baseline").toTextBaseline();null==e&&(e=this.style("alignment-baseline").toTextBaseline()),null!=e&&(n.textBaseline=e)},this.initializeCoordinates=function(n){this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y"),this.attribute("dx").hasValue()&&(this.x+=this.attribute("dx").toPixels("x")),this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),this.x+=this.getAnchorDelta(n,this,0)},this.getBoundingBox=function(n){this.initializeCoordinates(n);for(var e=null,i=0;i<this.children.length;i++){var a=this.getChildBoundingBox(n,this,this,i);null==e?e=a:e.addBoundingBox(a)}return e},this.renderChildren=function(n){this.initializeCoordinates(n);for(var e=0;e<this.children.length;e++)this.renderChild(n,this,this,e);t.Mouse.checkBoundingBox(this,this.getBoundingBox(n))},this.getAnchorDelta=function(n,e,i){var a=this.style("text-anchor").valueOrDefault("start");if("start"==a)return 0;for(var s=0,r=i;r<e.children.length;r++){var l=e.children[r];if(i<r&&l.attribute("x").hasValue())break;s+=l.measureTextRecursive(n)}return-1*("end"==a?s:s/2)},this.adjustChildCoordinates=function(n,e,i,a){var s=i.children[a];if("function"!=typeof s.measureText)return s;if(s.attribute("x").hasValue()){s.x=s.attribute("x").toPixels("x")+e.getAnchorDelta(n,i,a);var r=s.attribute("text-anchor").valueOrDefault("start");if("start"!==r){var l=s.measureTextRecursive(n);s.x+=-1*("end"==r?l:l/2)}s.attribute("dx").hasValue()&&(s.x+=s.attribute("dx").toPixels("x"))}else s.attribute("dx").hasValue()&&(e.x+=s.attribute("dx").toPixels("x")),s.x=e.x;return e.x=s.x+s.measureText(n),s.attribute("y").hasValue()?(s.y=s.attribute("y").toPixels("y"),s.attribute("dy").hasValue()&&(s.y+=s.attribute("dy").toPixels("y"))):(s.attribute("dy").hasValue()&&(e.y+=s.attribute("dy").toPixels("y")),s.y=e.y),e.y=s.y,s},this.getChildBoundingBox=function(n,e,i,a){var s=this.adjustChildCoordinates(n,e,i,a),r=s.getBoundingBox(n);for(a=0;a<s.children.length;a++){var l=e.getChildBoundingBox(n,e,s,a);r.addBoundingBox(l)}return r},this.renderChild=function(n,e,i,a){var s=this.adjustChildCoordinates(n,e,i,a);for(s.render(n),a=0;a<s.children.length;a++)e.renderChild(n,e,s,a)}},t.Element.text.prototype=new t.Element.RenderedElementBase,t.Element.TextElementBase=function(o){this.base=t.Element.RenderedElementBase,this.base(o),this.getGlyph=function(n,e,i){var a=e[i],s=null;if(n.isArabic){var r="isolated";(0==i||" "==e[i-1])&&i<e.length-2&&" "!=e[i+1]&&(r="terminal"),0<i&&" "!=e[i-1]&&i<e.length-2&&" "!=e[i+1]&&(r="medial"),0<i&&" "!=e[i-1]&&(i==e.length-1||" "==e[i+1])&&(r="initial"),void 0!==n.glyphs[a]&&null==(s=n.glyphs[a][r])&&"glyph"==n.glyphs[a].type&&(s=n.glyphs[a])}else s=n.glyphs[a];return null==s&&(s=n.missingGlyph),s},this.renderChildren=function(n){var e=this.parent.style("font-family").getDefinition();if(null==e)"stroke"==n.paintOrder?(""!=n.strokeStyle&&n.strokeText(t.compressSpaces(this.getText()),this.x,this.y),""!=n.fillStyle&&n.fillText(t.compressSpaces(this.getText()),this.x,this.y)):(""!=n.fillStyle&&n.fillText(t.compressSpaces(this.getText()),this.x,this.y),""!=n.strokeStyle&&n.strokeText(t.compressSpaces(this.getText()),this.x,this.y));else{var i=this.parent.style("font-size").numValueOrDefault(t.Font.Parse(t.ctx.font).fontSize),a=this.parent.style("font-style").valueOrDefault(t.Font.Parse(t.ctx.font).fontStyle),s=this.getText();e.isRTL&&(s=s.split("").reverse().join(""));for(var r=t.ToNumberArray(this.parent.attribute("dx").value),l=0;l<s.length;l++){var u=this.getGlyph(e,s,l),h=i/e.fontFace.unitsPerEm;n.translate(this.x,this.y),n.scale(h,-h);var f=n.lineWidth;n.lineWidth=n.lineWidth*e.fontFace.unitsPerEm/i,"italic"==a&&n.transform(1,0,.4,1,0,0),u.render(n),"italic"==a&&n.transform(1,0,-.4,1,0,0),n.lineWidth=f,n.scale(1/h,-1/h),n.translate(-this.x,-this.y),this.x+=i*(u.horizAdvX||e.horizAdvX)/e.fontFace.unitsPerEm,void 0===r[l]||isNaN(r[l])||(this.x+=r[l])}}},this.getText=function(){},this.measureTextRecursive=function(n){for(var e=this.measureText(n),i=0;i<this.children.length;i++)e+=this.children[i].measureTextRecursive(n);return e},this.measureText=function(n){var e=this.parent.style("font-family").getDefinition();if(null!=e){var i=this.parent.style("font-size").numValueOrDefault(t.Font.Parse(t.ctx.font).fontSize),a=0,s=this.getText();e.isRTL&&(s=s.split("").reverse().join(""));for(var r=t.ToNumberArray(this.parent.attribute("dx").value),l=0;l<s.length;l++)a+=(this.getGlyph(e,s,l).horizAdvX||e.horizAdvX)*i/e.fontFace.unitsPerEm,void 0===r[l]||isNaN(r[l])||(a+=r[l]);return a}var u=t.compressSpaces(this.getText());if(!n.measureText)return 10*u.length;n.save(),this.setContext(n,!0);var h=n.measureText(u).width;return n.restore(),h},this.getBoundingBox=function(n){var e=this.parent.style("font-size").numValueOrDefault(t.Font.Parse(t.ctx.font).fontSize);return new t.BoundingBox(this.x,this.y-e,this.x+this.measureText(n),this.y)}},t.Element.TextElementBase.prototype=new t.Element.RenderedElementBase,t.Element.tspan=function(o){this.captureTextNodes=!0,this.base=t.Element.TextElementBase,this.base(o),this.text=t.compressSpaces(o.value||o.text||o.textContent||""),this.getText=function(){return 0<this.children.length?"":this.text}},t.Element.tspan.prototype=new t.Element.TextElementBase,t.Element.tref=function(o){this.base=t.Element.TextElementBase,this.base(o),this.getText=function(){var n=this.getHrefAttribute().getDefinition();if(null!=n)return n.children[0].getText()}},t.Element.tref.prototype=new t.Element.TextElementBase,t.Element.a=function(o){this.base=t.Element.TextElementBase,this.base(o),this.hasText=0<o.childNodes.length;for(var n=0;n<o.childNodes.length;n++)3!=o.childNodes[n].nodeType&&(this.hasText=!1);this.text=this.hasText?o.childNodes[0].value||o.childNodes[0].data:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(e){if(this.hasText){this.baseRenderChildren(e);var i=new t.Property("fontSize",t.Font.Parse(t.ctx.font).fontSize);t.Mouse.checkBoundingBox(this,new t.BoundingBox(this.x,this.y-i.toPixels("y"),this.x+this.measureText(e),this.y))}else if(0<this.children.length){var a=new t.Element.g;a.children=this.children,a.parent=this,a.render(e)}},this.onclick=function(){I.open(this.getHrefAttribute().value)},this.onmousemove=function(){t.ctx.canvas.style.cursor="pointer"}},t.Element.a.prototype=new t.Element.TextElementBase,t.Element.textPath=function(o){this.base=t.Element.TextElementBase,this.base(o);var n=this.getHrefAttribute().getDefinition();this.text=t.compressSpaces(o.value||o.text||o.textContent||""),this.renderChildren=function(e){this.setTextData(e),e.save();var i=this.parent.style("text-decoration").value,a=this.fontSize(),s=this.glyphInfo,r=e.fillStyle;"underline"===i&&e.beginPath();for(var l=0;l<s.length;l++){var u=s[l].p0,h=s[l].p1,f=s[l].text;e.save(),e.translate(u.x,u.y),e.rotate(s[l].rotation),""!=e.fillStyle&&e.fillText(t.compressSpaces(f),0,0),""!=e.strokeStyle&&e.strokeText(t.compressSpaces(f),0,0),e.restore(),"underline"===i&&(0===l&&e.moveTo(u.x,u.y+a/8),e.lineTo(h.x,h.y+a/5))}"underline"===i&&(e.lineWidth=a/20,e.strokeStyle=r,e.stroke(),e.closePath()),e.restore()},this.path=function(e){var i=this.dataArray;e?.beginPath();for(var a=0;a<i.length;a++){var r=i[a].points;switch(i[a].command){case"L":e?.lineTo(r[0],r[1]);break;case"M":e?.moveTo(r[0],r[1]);break;case"C":e?.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);break;case"Q":e?.quadraticCurveTo(r[0],r[1],r[2],r[3]);break;case"A":var l=r[0],u=r[1],h=r[2],f=r[3],c=r[4],d=r[5],p=r[6],y=r[7],m=f<h?h:f,v=f<h?1:h/f,P=f<h?f/h:1;null!=e&&(e.translate(l,u),e.rotate(p),e.scale(v,P),e.arc(0,0,m,c,c+d,1-y),e.scale(1/v,1/P),e.rotate(-p),e.translate(-l,-u));break;case"z":e?.closePath()}}},this.getText=function(){return this.text},this.fontSize=function(){return this.parent.style("font-size").numValueOrDefault(t.Font.Parse(t.ctx.font).fontSize)},this.measureText=function(e,i){var a=this.parent.style("font-family").getDefinition();if(i=i||this.getText(),null!=a){var s=this.fontSize(),r=0;a.isRTL&&(i=i.split("").reverse().join(""));for(var l=t.ToNumberArray(this.parent.attribute("dx").value),u=0;u<i.length;u++)r+=(this.getGlyph(a,i,u).horizAdvX||a.horizAdvX)*s/a.fontFace.unitsPerEm,void 0===l[u]||isNaN(l[u])||(r+=l[u]);return r}var h=t.compressSpaces(i);if(!e.measureText)return 10*h.length;e.save(),this.setContext(e);var f=e.measureText(h).width;return e.restore(),f},this.setTextData=function(e){if(!this.hasOwnProperty("glyphInfo")){var i=this,a=this.getText().split(""),s=this.getText().split(" ").length-1,r=t.ToNumberArray(this.parent.attribute("dx").valueOrDefault("0")),l=0,u=this.parent.style("text-anchor").valueOrDefault("start"),h=this.style("letter-spacing"),f=this.parent.style("letter-spacing");h.hasValue()&&"inherit"!==h.getValue()?h.hasValue()&&"initial"!==h.getValue()&&"unset"!==h.getValue()&&(l=h.toPixels()):l=f.toPixels(),this.letterSpacingCache=[];for(var c=0;c<this.getText().length;c++)this.letterSpacingCache.push(void 0!==r[c]?r[c]:l);var d=this.letterSpacingCache.reduce(function(M,L){return M+L||0},0);this.textWidth=this.measureText(e),this.textHeight=this.fontSize();var p=Math.max(this.textWidth+d,0);this.glyphInfo=[];var y=this.getPathLength(),m=this.style("startOffset").numValueOrDefault(0)*y,v=0;"middle"!==u&&"center"!==u||(v=-p/2),"end"!==u&&"right"!==u||(v=-p),v+=m;var P=function(M,L){var k,S=i.measureText(e,M);" "===M&&"justify"===u&&p<y&&(S+=(y-p)/s),-1<L&&(v+=(k=(k=L)||0,i.letterSpacingCache[k]||0));var G=i.textHeight/20,U={p0:i.getEquidistantPointOnPath(v,G),p1:i.getEquidistantPointOnPath(v+S,G)};return v+=S,U};for(c=0;c<a.length;c++){var x=P(a[c],c);if(void 0!==x.p0&&void 0!==x.p1){var R=i.getLineLength(x.p0.x,x.p0.y,x.p1.x,x.p1.y),D=i.getPointOnLine(0+R/2,x.p0.x,x.p0.y,x.p1.x,x.p1.y),E=Math.atan2(x.p1.y-x.p0.y,x.p1.x-x.p0.x);this.glyphInfo.push({transposeX:D.x,transposeY:D.y,text:a[c],rotation:E,p0:x.p0,p1:x.p1})}}}},this.parsePathData=function(e){if(this.pathLength=void 0,!e)return[];var i=[],a=e.PathParser;for(a.reset();!a.isEnd();){var s=[],r=null,l=a.current?a.current.x:0,u=a.current?a.current.y:0;a.nextCommand();var h=a.command.toUpperCase();switch(a.command){case"M":case"m":var f=a.getAsCurrentPoint();for(s.push(f.x,f.y),a.start=a.current;!a.isCommandOrEnd();)f=a.getAsCurrentPoint(),s.push(f.x,f.y),r="L";break;case"L":case"l":for(;!a.isCommandOrEnd();)f=a.getAsCurrentPoint(),s.push(f.x,f.y);r="L";break;case"H":case"h":for(;!a.isCommandOrEnd();){var c=new t.Point((a.isRelativeCommand()?a.current.x:0)+a.getScalar(),a.current.y);s.push(c.x,c.y),a.current=c}r="L";break;case"V":case"v":for(;!a.isCommandOrEnd();)c=new t.Point(a.current.x,(a.isRelativeCommand()?a.current.y:0)+a.getScalar()),s.push(c.x,c.y),a.current=c;r="L";break;case"C":case"c":for(;!a.isCommandOrEnd();){var d=a.getPoint(),p=a.getAsControlPoint(),y=a.getAsCurrentPoint();s.push(d.x,d.y,p.x,p.y,y.x,y.y)}break;case"S":case"s":for(;!a.isCommandOrEnd();)d=a.getReflectedControlPoint(),p=a.getAsControlPoint(),y=a.getAsCurrentPoint(),s.push(d.x,d.y,p.x,p.y,y.x,y.y);r="C";break;case"Q":case"q":for(;!a.isCommandOrEnd();)p=a.getAsControlPoint(),y=a.getAsCurrentPoint(),s.push(p.x,p.y,y.x,y.y);break;case"T":case"t":for(;!a.isCommandOrEnd();)p=a.getReflectedControlPoint(),a.control=p,y=a.getAsCurrentPoint(),s.push(p.x,p.y,y.x,y.y);r="Q";break;case"A":case"a":for(;!a.isCommandOrEnd();){var m=a.current,v=a.getScalar(),P=a.getScalar(),x=a.getScalar()*(Math.PI/180),R=a.getScalar(),D=a.getScalar(),E=(y=a.getAsCurrentPoint(),new t.Point(Math.cos(x)*(m.x-y.x)/2+Math.sin(x)*(m.y-y.y)/2,-Math.sin(x)*(m.x-y.x)/2+Math.cos(x)*(m.y-y.y)/2)),M=Math.pow(E.x,2)/Math.pow(v,2)+Math.pow(E.y,2)/Math.pow(P,2);1<M&&(v*=Math.sqrt(M),P*=Math.sqrt(M));var L=(R==D?-1:1)*Math.sqrt((Math.pow(v,2)*Math.pow(P,2)-Math.pow(v,2)*Math.pow(E.y,2)-Math.pow(P,2)*Math.pow(E.x,2))/(Math.pow(v,2)*Math.pow(E.y,2)+Math.pow(P,2)*Math.pow(E.x,2)));isNaN(L)&&(L=0);var k=new t.Point(L*v*E.y/P,L*-P*E.x/v),S=new t.Point((m.x+y.x)/2+Math.cos(x)*k.x-Math.sin(x)*k.y,(m.y+y.y)/2+Math.sin(x)*k.x+Math.cos(x)*k.y),G=function(z){return Math.sqrt(Math.pow(z[0],2)+Math.pow(z[1],2))},U=function(z,Z){return(z[0]*Z[0]+z[1]*Z[1])/(G(z)*G(Z))},Q=function(z,Z){return(z[0]*Z[1]<z[1]*Z[0]?-1:1)*Math.acos(U(z,Z))},K=Q([1,0],[(E.x-k.x)/v,(E.y-k.y)/P]),W=[(E.x-k.x)/v,(E.y-k.y)/P],F=[(-E.x-k.x)/v,(-E.y-k.y)/P],H=Q(W,F);U(W,F)<=-1&&(H=Math.PI),1<=U(W,F)&&(H=0),0===D&&0<H&&(H-=2*Math.PI),1===D&&H<0&&(H+=2*Math.PI),s=[S.x,S.y,v,P,K,H,x,D]}break;case"Z":case"z":a.current=a.start}i.push("Z"!==h?{command:r||h,points:s,start:{x:l,y:u},pathLength:this.calcLength(l,u,r||h,s)}:{command:"z",points:[],start:void 0,pathLength:0})}return i},this.getPathLength=function(){if(null==this.pathLength||isNaN(this.pathLength))for(var e=this.pathLength=0;e<this.dataArray.length;e++)0<this.dataArray[e].pathLength&&(this.pathLength+=this.dataArray[e].pathLength);return this.pathLength},this.getPointOnPath=function(e){var i=0,a=this.getPathLength(),s=void 0;if(!(e<-5e-5||a<e-5e-5))for(var r=0;r<this.dataArray.length;r++){var l=this.dataArray[r];if(!l||!(l.pathLength<5e-5||i+l.pathLength+5e-5<e)){var u=e-i,h=void 0;switch(l.command){case"L":s=this.getPointOnLine(u,l.start.x,l.start.y,l.points[0],l.points[1],l.start.x,l.start.y);break;case"A":var c=l.points[5],d=l.points[4]+c;if(h=l.points[4]+u/l.pathLength*c,c<0&&h<d||0<=c&&d<h)break;s=this.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],h,l.points[6]);break;case"C":1<(h=u/l.pathLength)&&(h=1),s=this.getPointOnCubicBezier(h,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3],l.points[4],l.points[5]);break;case"Q":1<(h=u/l.pathLength)&&(h=1),s=this.getPointOnQuadraticBezier(h,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3])}if(void 0!==s&&s!=={})return s;break}i+=l.pathLength}},this.buildEquidistantCache=function(e,i){var a=this.getPathLength();if(i=i||.25,e=e||a/100,this.equidistantCache=this.equidistantCache||{},!this.equidistantCache.hasOwnProperty("points")||this.equidistantCache.step!=e||this.equidistantCache.precision!=i){this.equidistantCache={step:e,precision:i,points:[]};for(var s=0,r=0;r<=a;r+=i){var l=this.getPointOnPath(r),u=this.getPointOnPath(r+i);void 0!==l&&void 0!==u&&e<=(s+=this.getLineLength(l.x,l.y,u.x,u.y))&&(this.equidistantCache.points.push({x:l.x,y:l.y,distance:r}),s-=e)}}},this.getEquidistantPointOnPath=function(e,i,a){if(this.buildEquidistantCache(i,a),!(e<0||5e-5<e-this.getPathLength())){var s=Math.round(e/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[s]||void 0}},this.getLineLength=function(e,i,a,s){return Math.sqrt((a-e)*(a-e)+(s-i)*(s-i))},this.getPointOnLine=function(e,i,a,s,r,l,u){void 0===l&&(l=i),void 0===u&&(u=a);var h=(r-a)/(s-i+1e-8),f=Math.sqrt(e*e/(1+h*h));s<i&&(f*=-1);var c,d=h*f;if(s===i)c={x:l,y:u+d};else if((u-a)/(l-i+1e-8)===h)c={x:l+f,y:u+d};else{var p,y,m=this.getLineLength(i,a,s,r);if(m<1e-8)return;var v=(l-i)*(s-i)+(u-a)*(r-a);p=i+(v/=m*m)*(s-i);var P=this.getLineLength(l,u,p,y=a+v*(r-a)),x=Math.sqrt(e*e-P*P);f=Math.sqrt(x*x/(1+h*h)),s<i&&(f*=-1),c={x:p+f,y:y+(d=h*f)}}return c},this.getPointOnCubicBezier=function(e,i,a,s,r,l,u,h,f){function c(m){return m*m*m}function d(m){return 3*m*m*(1-m)}function p(m){return 3*m*(1-m)*(1-m)}function y(m){return(1-m)*(1-m)*(1-m)}return{x:h*c(e)+l*d(e)+s*p(e)+i*y(e),y:f*c(e)+u*d(e)+r*p(e)+a*y(e)}},this.getPointOnQuadraticBezier=function(e,i,a,s,r,l,u){function h(d){return d*d}function f(d){return 2*d*(1-d)}function c(d){return(1-d)*(1-d)}return{x:l*h(e)+s*f(e)+i*c(e),y:u*h(e)+r*f(e)+a*c(e)}},this.getPointOnEllipticalArc=function(e,i,a,s,r,l){var u=Math.cos(l),h=Math.sin(l),f=a*Math.cos(r),c=s*Math.sin(r);return{x:e+(f*u-c*h),y:i+(f*h+c*u)}},this.calcLength=function(e,i,a,s){var r,l,u,h;switch(a){case"L":return this.getLineLength(e,i,s[0],s[1]);case"C":for(r=0,l=this.getPointOnCubicBezier(0,e,i,s[0],s[1],s[2],s[3],s[4],s[5]),h=.01;h<=1;h+=.01)u=this.getPointOnCubicBezier(h,e,i,s[0],s[1],s[2],s[3],s[4],s[5]),r+=this.getLineLength(l.x,l.y,u.x,u.y),l=u;return r;case"Q":for(r=0,l=this.getPointOnQuadraticBezier(0,e,i,s[0],s[1],s[2],s[3]),h=.01;h<=1;h+=.01)u=this.getPointOnQuadraticBezier(h,e,i,s[0],s[1],s[2],s[3]),r+=this.getLineLength(l.x,l.y,u.x,u.y),l=u;return r;case"A":r=0;var f=s[4],c=s[5],d=s[4]+c,p=Math.PI/180;if(Math.abs(f-d)<p&&(p=Math.abs(f-d)),l=this.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],f,0),c<0)for(h=f-p;d<h;h-=p)u=this.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],h,0),r+=this.getLineLength(l.x,l.y,u.x,u.y),l=u;else for(h=f+p;h<d;h+=p)u=this.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],h,0),r+=this.getLineLength(l.x,l.y,u.x,u.y),l=u;return u=this.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],d,0),r+this.getLineLength(l.x,l.y,u.x,u.y)}return 0},this.dataArray=this.parsePathData(n)},t.Element.textPath.prototype=new t.Element.TextElementBase,t.Element.image=function(o){this.base=t.Element.RenderedElementBase,this.base(o);var n=this.getHrefAttribute().value;if(""!=n){var e=n.match(/\.svg$/);if(t.Images.push(this),this.loaded=!1,e)this.img=t.ajax(n),this.loaded=!0;else{this.img=Y.createElement("img"),1==t.opts.useCORS&&(this.img.crossOrigin="Anonymous");var i=this;this.img.onload=function(){i.loaded=!0},this.img.onerror=function(){t.log('ERROR: image "'+n+'" not found'),i.loaded=!0},this.img.src=n}this.renderChildren=function(a){var s=this.attribute("x").toPixels("x"),r=this.attribute("y").toPixels("y"),l=this.attribute("width").toPixels("x"),u=this.attribute("height").toPixels("y");0!=l&&0!=u&&(a.save(),e?a.drawSvg(this.img,s,r,l,u):(a.translate(s,r),t.AspectRatio(a,this.attribute("preserveAspectRatio").value,l,this.img.width,u,this.img.height,0,0),i.loaded&&(void 0===this.img.complete||this.img.complete)&&a.drawImage(this.img,0,0)),a.restore())},this.getBoundingBox=function(){var a=this.attribute("x").toPixels("x"),s=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),l=this.attribute("height").toPixels("y");return new t.BoundingBox(a,s,a+r,s+l)}}},t.Element.image.prototype=new t.Element.RenderedElementBase,t.Element.g=function(o){this.base=t.Element.RenderedElementBase,this.base(o),this.getBoundingBox=function(n){for(var e=new t.BoundingBox,i=0;i<this.children.length;i++)e.addBoundingBox(this.children[i].getBoundingBox(n));return e}},t.Element.g.prototype=new t.Element.RenderedElementBase,t.Element.symbol=function(o){this.base=t.Element.RenderedElementBase,this.base(o),this.render=function(){}},t.Element.symbol.prototype=new t.Element.RenderedElementBase,t.ParseExternalUrl=function(o){var n=o.match(/url\(('([^']+)'|"([^"]+)"|([^'"\)]+))\)/)||[];return n[2]||n[3]||n[4]},t.Element.style=function(o){this.base=t.Element.ElementBase,this.base(o);for(var n="",e=0;e<o.childNodes.length;e++)n+=o.childNodes[e].data;n=n.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"");var i=(n=t.compressSpaces(n)).split("}");for(e=0;e<i.length;e++)if(""!=t.trim(i[e]))for(var a=i[e].split("{"),s=a[0].split(","),r=a[1].split(";"),l=0;l<s.length;l++){var u=t.trim(s[l]);if(""!=u){for(var h=t.Styles[u]||{},f=0;f<r.length;f++){var c=r[f].indexOf(":"),d=r[f].substr(0,c),p=r[f].substr(c+1,r[f].length-c);null!=d&&null!=p&&(h[t.trim(d)]=new t.Property(t.trim(d),t.trim(p)))}if(t.Styles[u]=h,t.StylesSpecificity[u]=V(u),"@font-face"==u)for(var y=h["font-family"].value.replace(/"/g,""),m=h.src.value.split(","),v=0;v<m.length;v++)if(0<m[v].indexOf('format("svg")')){var P=t.ParseExternalUrl(m[v]);if(P)for(var x=t.parseXml(t.ajax(P)).getElementsByTagName("font"),R=0;R<x.length;R++){var D=t.CreateElement(x[R]);t.Definitions[y]=D}}}}},t.Element.style.prototype=new t.Element.ElementBase,t.Element.use=function(o){this.base=t.Element.RenderedElementBase,this.base(o),this.baseSetContext=this.setContext,this.setContext=function(e){this.baseSetContext(e),this.attribute("x").hasValue()&&e.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&e.translate(0,this.attribute("y").toPixels("y"))};var n=this.getHrefAttribute().getDefinition();this.path=function(e){n?.path(e)},this.elementTransform=function(){if(null!=n&&n.style("transform",!1,!0).hasValue())return new t.Transform(n.style("transform",!1,!0).value)},this.getBoundingBox=function(e){if(null!=n)return n.getBoundingBox(e)},this.renderChildren=function(e){if(null!=n){var i=n;"symbol"==n.type&&((i=new t.Element.svg).type="svg",i.attributes.viewBox=new t.Property("viewBox",n.attribute("viewBox").value),i.attributes.preserveAspectRatio=new t.Property("preserveAspectRatio",n.attribute("preserveAspectRatio").value),i.attributes.overflow=new t.Property("overflow",n.attribute("overflow").value),i.children=n.children),"svg"==i.type&&(this.attribute("width").hasValue()&&(i.attributes.width=new t.Property("width",this.attribute("width").value)),this.attribute("height").hasValue()&&(i.attributes.height=new t.Property("height",this.attribute("height").value)));var a=i.parent;i.parent=null,i.render(e),i.parent=a}}},t.Element.use.prototype=new t.Element.RenderedElementBase,t.Element.mask=function(o){this.base=t.Element.ElementBase,this.base(o),this.apply=function(n,e){var i=this.attribute("x").toPixels("x"),a=this.attribute("y").toPixels("y"),s=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y");if(0==s&&0==r){for(var l=new t.BoundingBox,u=0;u<this.children.length;u++)l.addBoundingBox(this.children[u].getBoundingBox(n));i=Math.floor(l.x1),a=Math.floor(l.y1),s=Math.floor(l.width()),r=Math.floor(l.height())}var h=e.style("mask").value;e.style("mask").value="";var f=C(i+s,a+r),c=f.getContext("2d");t.SetDefaults(c),this.renderChildren(c),new t.Element.feColorMatrix({nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(c,0,0,i+s,a+r);var d=C(i+s,a+r),p=d.getContext("2d");t.SetDefaults(p),e.render(p),p.globalCompositeOperation="destination-in",p.fillStyle=c.createPattern(f,"no-repeat"),p.fillRect(0,0,i+s,a+r),n.fillStyle=p.createPattern(d,"no-repeat"),n.fillRect(0,0,i+s,a+r),e.style("mask").value=h},this.render=function(){}},t.Element.mask.prototype=new t.Element.ElementBase,t.Element.clipPath=function(o){this.base=t.Element.ElementBase,this.base(o),this.apply=function(n){var e=typeof CanvasRenderingContext2D<"u",i=n.beginPath,a=n.closePath;e&&(CanvasRenderingContext2D.prototype.beginPath=function(){},CanvasRenderingContext2D.prototype.closePath=function(){}),i.call(n);for(var s=0;s<this.children.length;s++){var r=this.children[s];if(void 0!==r.path){var l=void 0!==r.elementTransform&&r.elementTransform();!l&&r.style("transform",!1,!0).hasValue()&&(l=new t.Transform(r.style("transform",!1,!0).value)),l&&l.apply(n),r.path(n),e&&(CanvasRenderingContext2D.prototype.closePath=a),l&&l.unapply(n)}}a.call(n),n.clip(),e&&(CanvasRenderingContext2D.prototype.beginPath=i,CanvasRenderingContext2D.prototype.closePath=a)},this.render=function(){}},t.Element.clipPath.prototype=new t.Element.ElementBase,t.Element.filter=function(o){this.base=t.Element.ElementBase,this.base(o),this.apply=function(n,e){var i=e.getBoundingBox(n),a=Math.floor(i.x1),s=Math.floor(i.y1),r=Math.floor(i.width()),l=Math.floor(i.height()),u=e.style("filter").value;e.style("filter").value="";for(var h=0,f=0,c=0;c<this.children.length;c++){var d=this.children[c].extraFilterDistance||0;h=Math.max(h,d),f=Math.max(f,d)}var p=C(r+2*h,l+2*f),y=p.getContext("2d");for(t.SetDefaults(y),y.translate(-a+h,-s+f),e.render(y),c=0;c<this.children.length;c++)"function"==typeof this.children[c].apply&&this.children[c].apply(y,0,0,r+2*h,l+2*f);n.drawImage(p,0,0,r+2*h,l+2*f,a-h,s-f,r+2*h,l+2*f),e.style("filter",!0).value=u},this.render=function(){}},t.Element.filter.prototype=new t.Element.ElementBase,t.Element.feDropShadow=function(o){this.base=t.Element.ElementBase,this.base(o),this.addStylesFromStyleDefinition(),this.apply=function(){}},t.Element.feDropShadow.prototype=new t.Element.ElementBase,t.Element.feMorphology=function(o){this.base=t.Element.ElementBase,this.base(o),this.apply=function(){}},t.Element.feMorphology.prototype=new t.Element.ElementBase,t.Element.feComposite=function(o){this.base=t.Element.ElementBase,this.base(o),this.apply=function(){}},t.Element.feComposite.prototype=new t.Element.ElementBase,t.Element.feColorMatrix=function(o){this.base=t.Element.ElementBase,this.base(o);var n=t.ToNumberArray(this.attribute("values").value);switch(this.attribute("type").valueOrDefault("matrix")){case"saturate":var e=n[0];n=[.213+.787*e,.715-.715*e,.072-.072*e,0,0,.213-.213*e,.715+.285*e,.072-.072*e,0,0,.213-.213*e,.715-.715*e,.072+.928*e,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var i=n[0]*Math.PI/180,a=function(h,f,c){return h+Math.cos(i)*f+Math.sin(i)*c};n=[a(.213,.787,-.213),a(.715,-.715,-.715),a(.072,-.072,.928),0,0,a(.213,-.213,.143),a(.715,.285,.14),a(.072,-.072,-.283),0,0,a(.213,-.213,-.787),a(.715,-.715,.715),a(.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}function s(h,f,c,d,p,y){return h[c*d*4+4*f+y]}function r(h,f,c,d,p,y,m){h[c*d*4+4*f+y]=m}function l(h,f){var c=n[h];return c*(c<0?f-255:f)}var u=this.attribute("includeOpacity").hasValue();this.apply=function(h,f,c,d,p){var y=h.getImageData(0,0,d,p);for(c=0;c<p;c++)for(f=0;f<d;f++){var m=s(y.data,f,c,d,0,0),v=s(y.data,f,c,d,0,1),P=s(y.data,f,c,d,0,2),x=s(y.data,f,c,d,0,3),R=l(0,m)+l(1,v)+l(2,P)+l(3,x)+l(4,1),D=l(5,m)+l(6,v)+l(7,P)+l(8,x)+l(9,1),E=l(10,m)+l(11,v)+l(12,P)+l(13,x)+l(14,1),M=l(15,m)+l(16,v)+l(17,P)+l(18,x)+l(19,1);u&&(R=D=E=0,M*=x/255),r(y.data,f,c,d,0,0,R),r(y.data,f,c,d,0,1,D),r(y.data,f,c,d,0,2,E),r(y.data,f,c,d,0,3,M)}h.clearRect(0,0,d,p),h.putImageData(y,0,0)}},t.Element.feColorMatrix.prototype=new t.Element.ElementBase,t.Element.feGaussianBlur=function(o){this.base=t.Element.ElementBase,this.base(o),this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue()),this.extraFilterDistance=this.blurRadius,this.apply=function(n,e,i,a,s){j&&void 0!==j.canvasRGBA?(n.canvas.id=t.UniqueId(),n.canvas.style.display="none",Y.body.appendChild(n.canvas),j.canvasRGBA(n.canvas,e,i,a,s,this.blurRadius),Y.body.removeChild(n.canvas)):t.log("ERROR: StackBlur.js must be included for blur to work")}},t.Element.feGaussianBlur.prototype=new t.Element.ElementBase,t.Element.title=function(){},t.Element.title.prototype=new t.Element.ElementBase,t.Element.desc=function(){},t.Element.desc.prototype=new t.Element.ElementBase,t.Element.MISSING=function(o){t.log("ERROR: Element '"+o.nodeName+"' not yet implemented.")},t.Element.MISSING.prototype=new t.Element.ElementBase,t.CreateElement=function(o){var n=o.nodeName.replace(/^[^:]+:/,"");n=n.replace(/\-/g,"");var e=null;return(e=void 0!==t.Element[n]?new t.Element[n](o):new t.Element.MISSING(o)).type=o.nodeName,e},t.load=function(o,n){t.loadXml(o,t.ajax(n))},t.loadXml=function(o,n){t.loadXmlDoc(o,t.parseXml(n))},t.loadXmlDoc=function(o,n){t.init(o);var e=function(l){for(var u=o.canvas;u;)l.x-=u.offsetLeft,l.y-=u.offsetTop,u=u.offsetParent;return I.scrollX&&(l.x+=I.scrollX),I.scrollY&&(l.y+=I.scrollY),l};1!=t.opts.ignoreMouse&&(o.canvas.onclick=function(l){var u=e(new t.Point(null!=l?l.clientX:event.clientX,null!=l?l.clientY:event.clientY));t.Mouse.onclick(u.x,u.y)},o.canvas.onmousemove=function(l){var u=e(new t.Point(null!=l?l.clientX:event.clientX,null!=l?l.clientY:event.clientY));t.Mouse.onmousemove(u.x,u.y)});var i=t.CreateElement(n.documentElement);i.root=!0,i.addStylesFromStyleDefinition();var a=!0,s=function(){t.ViewPort.Clear(),o.canvas.parentNode?t.ViewPort.SetCurrent(o.canvas.parentNode.clientWidth,o.canvas.parentNode.clientHeight):t.ViewPort.SetCurrent(800,600),1!=t.opts.ignoreDimensions&&(a||null==t.opts.scaleWidth&&null==t.opts.scaleHeight)&&(i.style("width").hasValue()&&(o.canvas.width=i.style("width").toPixels("x"),o.canvas.style&&(o.canvas.style.width=o.canvas.width+"px")),i.style("height").hasValue()&&(o.canvas.height=i.style("height").toPixels("y"),o.canvas.style&&(o.canvas.style.height=o.canvas.height+"px")));var l=o.canvas.clientWidth||o.canvas.width,u=o.canvas.clientHeight||o.canvas.height;if(1==t.opts.ignoreDimensions&&i.style("width").hasValue()&&i.style("height").hasValue()&&(l=i.style("width").toPixels("x"),u=i.style("height").toPixels("y")),t.ViewPort.SetCurrent(l,u),null!=t.opts.offsetX&&(i.attribute("x",!0).value=t.opts.offsetX),null!=t.opts.offsetY&&(i.attribute("y",!0).value=t.opts.offsetY),null!=t.opts.scaleWidth||null!=t.opts.scaleHeight){var h=null,f=null,c=t.ToNumberArray(i.attribute("viewBox").value);null!=t.opts.scaleWidth&&(i.attribute("width").hasValue()?h=i.attribute("width").toPixels("x")/t.opts.scaleWidth:isNaN(c[2])||(h=c[2]/t.opts.scaleWidth)),null!=t.opts.scaleHeight&&(i.attribute("height").hasValue()?f=i.attribute("height").toPixels("y")/t.opts.scaleHeight:isNaN(c[3])||(f=c[3]/t.opts.scaleHeight)),null==h&&(h=f),null==f&&(f=h),i.attribute("width",!0).value=t.opts.scaleWidth,i.attribute("height",!0).value=t.opts.scaleHeight,i.style("transform",!0,!0).value+=" scale("+1/h+","+1/f+")"}1!=t.opts.ignoreClear&&o.clearRect(0,0,l,u),i.render(o),a&&(a=!1,"function"==typeof t.opts.renderCallback&&t.opts.renderCallback(n))},r=!0;t.ImagesLoaded()&&(r=!1,s()),t.intervalID=setInterval(function(){var l=!1;if(r&&t.ImagesLoaded()&&(l=!(r=!1)),1!=t.opts.ignoreMouse&&(l=l||t.Mouse.hasEvents()),1!=t.opts.ignoreAnimation)for(var u=0;u<t.Animations.length;u++){var h=t.Animations[u].update(1e3/t.FRAMERATE);l=l||h}"function"==typeof t.opts.forceRedraw&&1==t.opts.forceRedraw()&&(l=!0),l&&(s(),t.Mouse.runEvents())},1e3/t.FRAMERATE)},t.stop=function(){t.intervalID&&clearInterval(t.intervalID)},t.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(o,n){this.events.push({type:"onclick",x:o,y:n,run:function(e){e.onclick&&e.onclick()}})},this.onmousemove=function(o,n){this.events.push({type:"onmousemove",x:o,y:n,run:function(e){e.onmousemove&&e.onmousemove()}})},this.eventElements=[],this.checkPath=function(o,n){for(var e=0;e<this.events.length;e++){var i=this.events[e];n.isPointInPath&&n.isPointInPath(i.x,i.y)&&(this.eventElements[e]=o)}},this.checkBoundingBox=function(o,n){if(n)for(var e=0;e<this.events.length;e++){var i=this.events[e];n.isPointInBox(i.x,i.y)&&(this.eventElements[e]=o)}},this.runEvents=function(){t.ctx.canvas.style.cursor="";for(var o=0;o<this.events.length;o++)for(var n=this.events[o],e=this.eventElements[o];e;)n.run(e),e=e.parent;this.events=[],this.eventElements=[]}},t}typeof CanvasRenderingContext2D<"u"&&(CanvasRenderingContext2D.prototype.drawSvg=function(b,t,A,o,n,e){var i={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:t,offsetY:A,scaleWidth:o,scaleHeight:n};for(var a in e)e.hasOwnProperty(a)&&(i[a]=e[a]);et(this.canvas,b,i)}),et._build=g,pt.exports=et}(lt={exports:{}}),lt.exports}(ot(1239),ot(5500))},1239:Et=>{Et.exports=function(tt){this.ok=!1,this.alpha=1,"#"==tt.charAt(0)&&(tt=tt.substr(1,6)),tt=(tt=tt.replace(/ /g,"")).toLowerCase();var ot={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};tt=ot[tt]||tt;for(var q=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(C){return[parseInt(C[1]),parseInt(C[2]),parseInt(C[3]),parseFloat(C[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(C){return[parseInt(C[1]),parseInt(C[2]),parseInt(C[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(C){return[parseInt(C[1],16),parseInt(C[2],16),parseInt(C[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(C){return[parseInt(C[1]+C[1],16),parseInt(C[2]+C[2],16),parseInt(C[3]+C[3],16)]}}],j=0;j<q.length;j++){var pt=q[j].process,I=q[j].re.exec(tt);if(I){var Y=pt(I);this.r=Y[0],this.g=Y[1],this.b=Y[2],Y.length>3&&(this.alpha=Y[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var C=this.r.toString(16),N=this.g.toString(16),et=this.b.toString(16);return 1==C.length&&(C="0"+C),1==N.length&&(N="0"+N),1==et.length&&(et="0"+et),"#"+C+N+et},this.getHelpXML=function(){for(var C=new Array,N=0;N<q.length;N++)for(var et=q[N].example,ht=0;ht<et.length;ht++)C[C.length]=et[ht];for(var rt in ot)C[C.length]=rt;var w=document.createElement("ul");for(w.setAttribute("id","rgbcolor-examples"),N=0;N<C.length;N++)try{var B=document.createElement("li"),O=new RGBColor(C[N]),T=document.createElement("div");T.style.cssText="margin: 3px; border: 1px solid black; background:"+O.toHex()+"; color:"+O.toHex(),T.appendChild(document.createTextNode("test"));var X=document.createTextNode(" "+C[N]+" -> "+O.toRGB()+" -> "+O.toHex());B.appendChild(T),B.appendChild(X),w.appendChild(B)}catch{}return w}}},5500:(Et,tt,ot)=>{"use strict";function q(w){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(B){return typeof B}:function(B){return B&&"function"==typeof Symbol&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(w)}ot.r(tt),ot.d(tt,{BlurStack:()=>rt,canvasRGB:()=>et,canvasRGBA:()=>C,image:()=>I,imageDataRGB:()=>ht,imageDataRGBA:()=>N});var lt=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],pt=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function I(w,B,O,T,X,V){if("string"==typeof w&&(w=document.getElementById(w)),w&&"naturalWidth"in w){var g=X?"offset":"natural",b=w[g+"Width"],t=w[g+"Height"];if("string"==typeof B&&(B=document.getElementById(B)),B&&"getContext"in B){V||(B.style.width=b+"px",B.style.height=t+"px"),B.width=b,B.height=t;var A=B.getContext("2d");A.clearRect(0,0,b,t),A.drawImage(w,0,0,w.naturalWidth,w.naturalHeight,0,0,b,t),!(isNaN(O)||O<1)&&(T?C(B,0,0,b,t,O):et(B,0,0,b,t,O))}}}function Y(w,B,O,T,X){if("string"==typeof w&&(w=document.getElementById(w)),!w||"object"!==q(w)||!("getContext"in w))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var V=w.getContext("2d");try{return V.getImageData(B,O,T,X)}catch(g){throw new Error("unable to access image data: "+g)}}function C(w,B,O,T,X,V){if(!(isNaN(V)||V<1)){V|=0;var g=Y(w,B,O,T,X);g=N(g,0,0,T,X,V),w.getContext("2d").putImageData(g,B,O)}}function N(w,B,O,T,X,V){for(var a,g=w.data,b=2*V+1,t=T-1,A=X-1,o=V+1,n=o*(o+1)/2,e=new rt,i=e,s=1;s<b;s++)i=i.next=new rt,s===o&&(a=i);i.next=e;for(var r=null,l=null,u=0,h=0,f=lt[V],c=pt[V],d=0;d<X;d++){i=e;for(var p=g[h],y=g[h+1],m=g[h+2],v=g[h+3],P=0;P<o;P++)i.r=p,i.g=y,i.b=m,i.a=v,i=i.next;for(var x=0,R=0,D=0,E=0,M=o*p,L=o*y,k=o*m,S=o*v,G=n*p,U=n*y,Q=n*m,K=n*v,W=1;W<o;W++){var F=h+((t<W?t:W)<<2),H=g[F],z=g[F+1],Z=g[F+2],J=g[F+3],_=o-W;G+=(i.r=H)*_,U+=(i.g=z)*_,Q+=(i.b=Z)*_,K+=(i.a=J)*_,x+=H,R+=z,D+=Z,E+=J,i=i.next}r=e,l=a;for(var ut=0;ut<T;ut++){var ft=K*f>>c;if(g[h+3]=ft,0!==ft){var ct=255/ft;g[h]=(G*f>>c)*ct,g[h+1]=(U*f>>c)*ct,g[h+2]=(Q*f>>c)*ct}else g[h]=g[h+1]=g[h+2]=0;G-=M,U-=L,Q-=k,K-=S,M-=r.r,L-=r.g,k-=r.b,S-=r.a;var at=ut+V+1;G+=x+=r.r=g[at=u+(at<t?at:t)<<2],U+=R+=r.g=g[at+1],Q+=D+=r.b=g[at+2],K+=E+=r.a=g[at+3],r=r.next;var xt=l.r,bt=l.g,yt=l.b,Pt=l.a;M+=xt,L+=bt,k+=yt,S+=Pt,x-=xt,R-=bt,D-=yt,E-=Pt,l=l.next,h+=4}u+=T}for(var st=0;st<T;st++){var mt=g[h=st<<2],vt=g[h+1],gt=g[h+2],it=g[h+3],Vt=o*mt,At=o*vt,Dt=o*gt,Rt=o*it,wt=n*mt,Ct=n*vt,Bt=n*gt,Tt=n*it;i=e;for(var It=0;It<o;It++)i.r=mt,i.g=vt,i.b=gt,i.a=it,i=i.next;for(var Xt=T,Nt=0,Lt=0,St=0,zt=0,Mt=1;Mt<=V;Mt++){var kt=o-Mt;wt+=(i.r=mt=g[h=Xt+st<<2])*kt,Ct+=(i.g=vt=g[h+1])*kt,Bt+=(i.b=gt=g[h+2])*kt,Tt+=(i.a=it=g[h+3])*kt,zt+=mt,Nt+=vt,Lt+=gt,St+=it,i=i.next,Mt<A&&(Xt+=T)}h=st,r=e,l=a;for(var Ot=0;Ot<X;Ot++){var nt=h<<2;g[nt+3]=it=Tt*f>>c,it>0?(g[nt]=(wt*f>>c)*(it=255/it),g[nt+1]=(Ct*f>>c)*it,g[nt+2]=(Bt*f>>c)*it):g[nt]=g[nt+1]=g[nt+2]=0,wt-=Vt,Ct-=At,Bt-=Dt,Tt-=Rt,Vt-=r.r,At-=r.g,Dt-=r.b,Rt-=r.a,nt=st+((nt=Ot+o)<A?nt:A)*T<<2,wt+=zt+=r.r=g[nt],Ct+=Nt+=r.g=g[nt+1],Bt+=Lt+=r.b=g[nt+2],Tt+=St+=r.a=g[nt+3],r=r.next,Vt+=mt=l.r,At+=vt=l.g,Dt+=gt=l.b,Rt+=it=l.a,zt-=mt,Nt-=vt,Lt-=gt,St-=it,l=l.next,h+=T}}return w}function et(w,B,O,T,X,V){if(!(isNaN(V)||V<1)){V|=0;var g=Y(w,B,O,T,X);g=ht(g,0,0,T,X,V),w.getContext("2d").putImageData(g,B,O)}}function ht(w,B,O,T,X,V){for(var a,g=w.data,b=2*V+1,t=T-1,A=X-1,o=V+1,n=o*(o+1)/2,e=new rt,i=e,s=1;s<b;s++)i=i.next=new rt,s===o&&(a=i);i.next=e;for(var f,c,r=null,l=null,u=lt[V],h=pt[V],d=0,p=0,y=0;y<X;y++){var m=g[p],v=g[p+1],P=g[p+2],x=o*m,R=o*v,D=o*P,E=n*m,M=n*v,L=n*P;i=e;for(var k=0;k<o;k++)i.r=m,i.g=v,i.b=P,i=i.next;for(var S=0,G=0,U=0,Q=1;Q<o;Q++)E+=(i.r=m=g[f=p+((t<Q?t:Q)<<2)])*(c=o-Q),M+=(i.g=v=g[f+1])*c,L+=(i.b=P=g[f+2])*c,S+=m,G+=v,U+=P,i=i.next;r=e,l=a;for(var K=0;K<T;K++)g[p]=E*u>>h,g[p+1]=M*u>>h,g[p+2]=L*u>>h,E-=x,M-=R,L-=D,x-=r.r,R-=r.g,D-=r.b,f=d+((f=K+V+1)<t?f:t)<<2,E+=S+=r.r=g[f],M+=G+=r.g=g[f+1],L+=U+=r.b=g[f+2],r=r.next,x+=m=l.r,R+=v=l.g,D+=P=l.b,S-=m,G-=v,U-=P,l=l.next,p+=4;d+=T}for(var W=0;W<T;W++){var F=g[p=W<<2],H=g[p+1],z=g[p+2],Z=o*F,J=o*H,_=o*z,ut=n*F,ft=n*H,ct=n*z;i=e;for(var at=0;at<o;at++)i.r=F,i.g=H,i.b=z,i=i.next;for(var dt=0,xt=0,bt=0,yt=1,Pt=T;yt<=V;yt++)ut+=(i.r=F=g[p=Pt+W<<2])*(c=o-yt),ft+=(i.g=H=g[p+1])*c,ct+=(i.b=z=g[p+2])*c,dt+=F,xt+=H,bt+=z,i=i.next,yt<A&&(Pt+=T);p=W,r=e,l=a;for(var st=0;st<X;st++)g[f=p<<2]=ut*u>>h,g[f+1]=ft*u>>h,g[f+2]=ct*u>>h,ut-=Z,ft-=J,ct-=_,Z-=r.r,J-=r.g,_-=r.b,f=W+((f=st+o)<A?f:A)*T<<2,ut+=dt+=r.r=g[f],ft+=xt+=r.g=g[f+1],ct+=bt+=r.b=g[f+2],r=r.next,Z+=F=l.r,J+=H=l.g,_+=z=l.b,dt-=F,xt-=H,bt-=z,l=l.next,p+=T}return w}var rt=function w(){(function j(w,B){if(!(w instanceof B))throw new TypeError("Cannot call a class as a function")})(this,w),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}}}]);