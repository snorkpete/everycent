!function(){angular.module("everycent.common",[])}(),function(){function RouteConfiguration($stateProvider){$stateProvider.state("institutions",{url:"/institutions",templateUrl:"app/institutions/list.html",controller:"InstitutionsCtrl as vm",resolve:{auth:["$auth",function($auth){return $auth.validateUser()}]}})}angular.module("everycent.institutions",["everycent.common"]).config(RouteConfiguration),RouteConfiguration.$inject=["$stateProvider"]}(),function(){function RouteConfiguration($stateProvider){$stateProvider.state("sign_in",{url:"/sign_in",templateUrl:"app/security/sign-in.html",controller:"SignInCtrl as vm"})}angular.module("everycent.security",["everycent.common"]).config(RouteConfiguration),RouteConfiguration.$inject=["$stateProvider"]}(),function(){"use strict";function AppConfig($authProvider){$authProvider.configure({apiUrl:""})}function MainCtrl(MessageService){var main=this;main.ui=MessageService.data}angular.module("everycent",["ui.router","ngCookies","ng-token-auth","everycent.common","everycent.security","everycent.institutions"]),angular.module("everycent").config(AppConfig).controller("MainCtrl",MainCtrl),AppConfig.$inject=["$authProvider"],MainCtrl.$inject=["MessageService"]}(),function(){"use strict";function RouteConfiguration($stateProvider,$urlRouterProvider){$stateProvider.state("home",{url:"/",templateUrl:"app/home/home.html",controller:[function(){}]}).state("all",{"abstract":!0,resolve:{auth:["$auth",function($auth){return $auth.validateUser()}]}}).state("all.institutions",{url:"/institutions",templateUrl:"app/institutions/list.html",controller:"InstitutionsCtrl as vm"}),$urlRouterProvider.otherwise("/")}angular.module("everycent").config(RouteConfiguration),RouteConfiguration.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){function MessageService(){var data={},service={data:data};return service}angular.module("everycent.common",[]).factory("MessageService",MessageService),MessageService.$inject=[]}(),function(){function InstitutionsCtrl($http){var vm=this;vm.institutions=["Scotia","Rbc","other"],$http.get("/institutions").then(function(response){vm.institutions=response.data})}angular.module("everycent.institutions").controller("InstitutionsCtrl",InstitutionsCtrl),InstitutionsCtrl.$inject=["$http"]}(),function(){"use strict";function SignInCtrl($auth,$state,MessageService){function signIn(params){console.log(params),$auth.submitLogin(params).then(function(){MessageService.data.message="",$state.go("institutions")})["catch"](function(response){MessageService.data.message="Invalid login",response.data&&response.data.errors&&(MessageService.data.message=response.data.errors[0])})}var vm=this;vm.signIn=signIn}angular.module("everycent.security").controller("SignInCtrl",SignInCtrl),SignInCtrl.$inject=["$auth","$state","MessageService"]}();
//# sourceMappingURL=everycent-app-0.0.1.min.map